!function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=41)}([function(t,e,r){"use strict";e.a=function(t){for(var e=t.length/6|0,r=new Array(e),n=0;n<e;)r[n]="#"+t.slice(6*n,6*++n);return r}},function(t,e,r){"use strict";var n=r(23);e.a=function(t){return Object(n.b)(t[t.length-1])}},function(t,e,r){(function(t){!function(r){"use strict";var n={};n.exports=e,function(e){var r="undefined"==typeof window?t:window,n=r.GLMAT_EPSILON;null==n&&(n=1e-6);var a=r.GLMAT_ARRAY_TYPE||Array,i=r.GLMAT_RANDOM;i||(i=Math.random);var s={};s.setMatrixArrayType=function(t){a=t},void 0!==e&&(e.glMatrix=s);var o=Math.PI/180;s.toRadian=function(t){return t*o};var f={};f.create=function(){var t=new a(2);return t[0]=0,t[1]=0,t},f.clone=function(t){var e=new a(2);return e[0]=t[0],e[1]=t[1],e},f.fromValues=function(t,e){var r=new a(2);return r[0]=t,r[1]=e,r},f.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},f.set=function(t,e,r){return t[0]=e,t[1]=r,t},f.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},f.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t},f.sub=f.subtract,f.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t},f.mul=f.multiply,f.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t},f.div=f.divide,f.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},f.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},f.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},f.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},f.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)},f.dist=f.distance,f.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n},f.sqrDist=f.squaredDistance,f.length=function(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)},f.len=f.length,f.squaredLength=function(t){var e=t[0],r=t[1];return e*e+r*r},f.sqrLen=f.squaredLength,f.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},f.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},f.normalize=function(t,e){var r=e[0],n=e[1],a=r*r+n*n;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a),t},f.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},f.cross=function(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t},f.lerp=function(t,e,r,n){var a=e[0],i=e[1];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t},f.random=function(t,e){e=e||1;var r=2*i()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t},f.transformMat2=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a,t[1]=r[1]*n+r[3]*a,t},f.transformMat2d=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a+r[4],t[1]=r[1]*n+r[3]*a+r[5],t},f.transformMat3=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[3]*a+r[6],t[1]=r[1]*n+r[4]*a+r[7],t},f.transformMat4=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[4]*a+r[12],t[1]=r[1]*n+r[5]*a+r[13],t},f.forEach=function(){var t=f.create();return function(e,r,n,a,i,s){var o,f;for(r||(r=2),n||(n=0),f=a?Math.min(a*r+n,e.length):e.length,o=n;o<f;o+=r)t[0]=e[o],t[1]=e[o+1],i(t,t,s),e[o]=t[0],e[o+1]=t[1];return e}}(),f.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},void 0!==e&&(e.vec2=f);var u={};u.create=function(){var t=new a(3);return t[0]=0,t[1]=0,t[2]=0,t},u.clone=function(t){var e=new a(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},u.fromValues=function(t,e,r){var n=new a(3);return n[0]=t,n[1]=e,n[2]=r,n},u.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},u.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},u.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},u.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t},u.sub=u.subtract,u.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t},u.mul=u.multiply,u.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},u.div=u.divide,u.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},u.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},u.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},u.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},u.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(r*r+n*n+a*a)},u.dist=u.distance,u.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return r*r+n*n+a*a},u.sqrDist=u.squaredDistance,u.length=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)},u.len=u.length,u.squaredLength=function(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n},u.sqrLen=u.squaredLength,u.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},u.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},u.normalize=function(t,e){var r=e[0],n=e[1],a=e[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t},u.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},u.cross=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=r[0],o=r[1],f=r[2];return t[0]=a*f-i*o,t[1]=i*s-n*f,t[2]=n*o-a*s,t},u.lerp=function(t,e,r,n){var a=e[0],i=e[1],s=e[2];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=s+n*(r[2]-s),t},u.random=function(t,e){e=e||1;var r=2*i()*Math.PI,n=2*i()-1,a=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t[2]=n*e,t},u.transformMat4=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=r[3]*n+r[7]*a+r[11]*i+r[15];return s=s||1,t[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/s,t[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/s,t[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/s,t},u.transformMat3=function(t,e,r){var n=e[0],a=e[1],i=e[2];return t[0]=n*r[0]+a*r[3]+i*r[6],t[1]=n*r[1]+a*r[4]+i*r[7],t[2]=n*r[2]+a*r[5]+i*r[8],t},u.transformQuat=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=r[0],o=r[1],f=r[2],u=r[3],c=u*n+o*i-f*a,h=u*a+f*n-s*i,d=u*i+s*a-o*n,l=-s*n-o*a-f*i;return t[0]=c*u+l*-s+h*-f-d*-o,t[1]=h*u+l*-o+d*-s-c*-f,t[2]=d*u+l*-f+c*-o-h*-s,t},u.rotateX=function(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0],i[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),i[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},u.rotateY=function(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),i[1]=a[1],i[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},u.rotateZ=function(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),i[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),i[2]=a[2],t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},u.forEach=function(){var t=u.create();return function(e,r,n,a,i,s){var o,f;for(r||(r=3),n||(n=0),f=a?Math.min(a*r+n,e.length):e.length,o=n;o<f;o+=r)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],i(t,t,s),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2];return e}}(),u.angle=function(t,e){var r=u.fromValues(t[0],t[1],t[2]),n=u.fromValues(e[0],e[1],e[2]);u.normalize(r,r),u.normalize(n,n);var a=u.dot(r,n);return a>1?0:Math.acos(a)},u.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},void 0!==e&&(e.vec3=u);var c={};c.create=function(){var t=new a(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},c.clone=function(t){var e=new a(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},c.fromValues=function(t,e,r,n){var i=new a(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i},c.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},c.set=function(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t},c.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},c.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t},c.sub=c.subtract,c.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t},c.mul=c.multiply,c.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t},c.div=c.divide,c.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},c.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},c.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},c.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},c.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return Math.sqrt(r*r+n*n+a*a+i*i)},c.dist=c.distance,c.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return r*r+n*n+a*a+i*i},c.sqrDist=c.squaredDistance,c.length=function(t){var e=t[0],r=t[1],n=t[2],a=t[3];return Math.sqrt(e*e+r*r+n*n+a*a)},c.len=c.length,c.squaredLength=function(t){var e=t[0],r=t[1],n=t[2],a=t[3];return e*e+r*r+n*n+a*a},c.sqrLen=c.squaredLength,c.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},c.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},c.normalize=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=r*r+n*n+a*a+i*i;return s>0&&(s=1/Math.sqrt(s),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s),t},c.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},c.lerp=function(t,e,r,n){var a=e[0],i=e[1],s=e[2],o=e[3];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=s+n*(r[2]-s),t[3]=o+n*(r[3]-o),t},c.random=function(t,e){return e=e||1,t[0]=i(),t[1]=i(),t[2]=i(),t[3]=i(),c.normalize(t,t),c.scale(t,t,e),t},c.transformMat4=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3];return t[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*s,t[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*s,t[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*s,t[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*s,t},c.transformQuat=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=r[0],o=r[1],f=r[2],u=r[3],c=u*n+o*i-f*a,h=u*a+f*n-s*i,d=u*i+s*a-o*n,l=-s*n-o*a-f*i;return t[0]=c*u+l*-s+h*-f-d*-o,t[1]=h*u+l*-o+d*-s-c*-f,t[2]=d*u+l*-f+c*-o-h*-s,t},c.forEach=function(){var t=c.create();return function(e,r,n,a,i,s){var o,f;for(r||(r=4),n||(n=0),f=a?Math.min(a*r+n,e.length):e.length,o=n;o<f;o+=r)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],i(t,t,s),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2],e[o+3]=t[3];return e}}(),c.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},void 0!==e&&(e.vec4=c);var h={};h.create=function(){var t=new a(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},h.clone=function(t){var e=new a(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},h.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},h.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},h.transpose=function(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},h.invert=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=r*i-a*n;return s?(s=1/s,t[0]=i*s,t[1]=-n*s,t[2]=-a*s,t[3]=r*s,t):null},h.adjoint=function(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t},h.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},h.multiply=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=r[0],f=r[1],u=r[2],c=r[3];return t[0]=n*o+i*f,t[1]=a*o+s*f,t[2]=n*u+i*c,t[3]=a*u+s*c,t},h.mul=h.multiply,h.rotate=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=Math.sin(r),f=Math.cos(r);return t[0]=n*f+i*o,t[1]=a*f+s*o,t[2]=n*-o+i*f,t[3]=a*-o+s*f,t},h.scale=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=r[0],f=r[1];return t[0]=n*o,t[1]=a*o,t[2]=i*f,t[3]=s*f,t},h.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},h.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},h.LDU=function(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]},void 0!==e&&(e.mat2=h);var d={};d.create=function(){var t=new a(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},d.clone=function(t){var e=new a(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},d.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},d.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},d.invert=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=e[4],o=e[5],f=r*i-n*a;return f?(f=1/f,t[0]=i*f,t[1]=-n*f,t[2]=-a*f,t[3]=r*f,t[4]=(a*o-i*s)*f,t[5]=(n*s-r*o)*f,t):null},d.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},d.multiply=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],f=e[5],u=r[0],c=r[1],h=r[2],d=r[3],l=r[4],_=r[5];return t[0]=n*u+i*c,t[1]=a*u+s*c,t[2]=n*h+i*d,t[3]=a*h+s*d,t[4]=n*l+i*_+o,t[5]=a*l+s*_+f,t},d.mul=d.multiply,d.rotate=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],f=e[5],u=Math.sin(r),c=Math.cos(r);return t[0]=n*c+i*u,t[1]=a*c+s*u,t[2]=n*-u+i*c,t[3]=a*-u+s*c,t[4]=o,t[5]=f,t},d.scale=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],f=e[5],u=r[0],c=r[1];return t[0]=n*u,t[1]=a*u,t[2]=i*c,t[3]=s*c,t[4]=o,t[5]=f,t},d.translate=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],f=e[5],u=r[0],c=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=s,t[4]=n*u+i*c+o,t[5]=a*u+s*c+f,t},d.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},d.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},void 0!==e&&(e.mat2d=d);var l={};l.create=function(){var t=new a(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},l.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},l.clone=function(t){var e=new a(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},l.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},l.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},l.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},l.invert=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=e[4],o=e[5],f=e[6],u=e[7],c=e[8],h=c*s-o*u,d=-c*i+o*f,l=u*i-s*f,_=r*h+n*d+a*l;return _?(_=1/_,t[0]=h*_,t[1]=(-c*n+a*u)*_,t[2]=(o*n-a*s)*_,t[3]=d*_,t[4]=(c*r-a*f)*_,t[5]=(-o*r+a*i)*_,t[6]=l*_,t[7]=(-u*r+n*f)*_,t[8]=(s*r-n*i)*_,t):null},l.adjoint=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=e[4],o=e[5],f=e[6],u=e[7],c=e[8];return t[0]=s*c-o*u,t[1]=a*u-n*c,t[2]=n*o-a*s,t[3]=o*f-i*c,t[4]=r*c-a*f,t[5]=a*i-r*o,t[6]=i*u-s*f,t[7]=n*f-r*u,t[8]=r*s-n*i,t},l.determinant=function(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],s=t[5],o=t[6],f=t[7],u=t[8];return e*(u*i-s*f)+r*(-u*a+s*o)+n*(f*a-i*o)},l.multiply=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],f=e[5],u=e[6],c=e[7],h=e[8],d=r[0],l=r[1],_=r[2],p=r[3],m=r[4],b=r[5],y=r[6],v=r[7],g=r[8];return t[0]=d*n+l*s+_*u,t[1]=d*a+l*o+_*c,t[2]=d*i+l*f+_*h,t[3]=p*n+m*s+b*u,t[4]=p*a+m*o+b*c,t[5]=p*i+m*f+b*h,t[6]=y*n+v*s+g*u,t[7]=y*a+v*o+g*c,t[8]=y*i+v*f+g*h,t},l.mul=l.multiply,l.translate=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],f=e[5],u=e[6],c=e[7],h=e[8],d=r[0],l=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=s,t[4]=o,t[5]=f,t[6]=d*n+l*s+u,t[7]=d*a+l*o+c,t[8]=d*i+l*f+h,t},l.rotate=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],f=e[5],u=e[6],c=e[7],h=e[8],d=Math.sin(r),l=Math.cos(r);return t[0]=l*n+d*s,t[1]=l*a+d*o,t[2]=l*i+d*f,t[3]=l*s-d*n,t[4]=l*o-d*a,t[5]=l*f-d*i,t[6]=u,t[7]=c,t[8]=h,t},l.scale=function(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},l.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},l.fromQuat=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=r+r,o=n+n,f=a+a,u=r*s,c=n*s,h=n*o,d=a*s,l=a*o,_=a*f,p=i*s,m=i*o,b=i*f;return t[0]=1-h-_,t[3]=c-b,t[6]=d+m,t[1]=c+b,t[4]=1-u-_,t[7]=l-p,t[2]=d-m,t[5]=l+p,t[8]=1-u-h,t},l.normalFromMat4=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=e[4],o=e[5],f=e[6],u=e[7],c=e[8],h=e[9],d=e[10],l=e[11],_=e[12],p=e[13],m=e[14],b=e[15],y=r*o-n*s,v=r*f-a*s,g=r*u-i*s,T=n*f-a*o,E=n*u-i*o,x=a*u-i*f,A=c*p-h*_,R=c*m-d*_,M=c*b-l*_,O=h*m-d*p,w=h*b-l*p,N=d*b-l*m,S=y*N-v*w+g*O+T*M-E*R+x*A;return S?(S=1/S,t[0]=(o*N-f*w+u*O)*S,t[1]=(f*M-s*N-u*R)*S,t[2]=(s*w-o*M+u*A)*S,t[3]=(a*w-n*N-i*O)*S,t[4]=(r*N-a*M+i*R)*S,t[5]=(n*M-r*w-i*A)*S,t[6]=(p*x-m*E+b*T)*S,t[7]=(m*g-_*x-b*v)*S,t[8]=(_*E-p*g+b*y)*S,t):null},l.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},l.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},void 0!==e&&(e.mat3=l);var _={};_.create=function(){var t=new a(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},_.clone=function(t){var e=new a(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},_.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},_.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},_.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],a=e[3],i=e[6],s=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=i,t[11]=e[14],t[12]=a,t[13]=s,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},_.invert=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=e[4],o=e[5],f=e[6],u=e[7],c=e[8],h=e[9],d=e[10],l=e[11],_=e[12],p=e[13],m=e[14],b=e[15],y=r*o-n*s,v=r*f-a*s,g=r*u-i*s,T=n*f-a*o,E=n*u-i*o,x=a*u-i*f,A=c*p-h*_,R=c*m-d*_,M=c*b-l*_,O=h*m-d*p,w=h*b-l*p,N=d*b-l*m,S=y*N-v*w+g*O+T*M-E*R+x*A;return S?(S=1/S,t[0]=(o*N-f*w+u*O)*S,t[1]=(a*w-n*N-i*O)*S,t[2]=(p*x-m*E+b*T)*S,t[3]=(d*E-h*x-l*T)*S,t[4]=(f*M-s*N-u*R)*S,t[5]=(r*N-a*M+i*R)*S,t[6]=(m*g-_*x-b*v)*S,t[7]=(c*x-d*g+l*v)*S,t[8]=(s*w-o*M+u*A)*S,t[9]=(n*M-r*w-i*A)*S,t[10]=(_*E-p*g+b*y)*S,t[11]=(h*g-c*E-l*y)*S,t[12]=(o*R-s*O-f*A)*S,t[13]=(r*O-n*R+a*A)*S,t[14]=(p*v-_*T-m*y)*S,t[15]=(c*T-h*v+d*y)*S,t):null},_.adjoint=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=e[4],o=e[5],f=e[6],u=e[7],c=e[8],h=e[9],d=e[10],l=e[11],_=e[12],p=e[13],m=e[14],b=e[15];return t[0]=o*(d*b-l*m)-h*(f*b-u*m)+p*(f*l-u*d),t[1]=-(n*(d*b-l*m)-h*(a*b-i*m)+p*(a*l-i*d)),t[2]=n*(f*b-u*m)-o*(a*b-i*m)+p*(a*u-i*f),t[3]=-(n*(f*l-u*d)-o*(a*l-i*d)+h*(a*u-i*f)),t[4]=-(s*(d*b-l*m)-c*(f*b-u*m)+_*(f*l-u*d)),t[5]=r*(d*b-l*m)-c*(a*b-i*m)+_*(a*l-i*d),t[6]=-(r*(f*b-u*m)-s*(a*b-i*m)+_*(a*u-i*f)),t[7]=r*(f*l-u*d)-s*(a*l-i*d)+c*(a*u-i*f),t[8]=s*(h*b-l*p)-c*(o*b-u*p)+_*(o*l-u*h),t[9]=-(r*(h*b-l*p)-c*(n*b-i*p)+_*(n*l-i*h)),t[10]=r*(o*b-u*p)-s*(n*b-i*p)+_*(n*u-i*o),t[11]=-(r*(o*l-u*h)-s*(n*l-i*h)+c*(n*u-i*o)),t[12]=-(s*(h*m-d*p)-c*(o*m-f*p)+_*(o*d-f*h)),t[13]=r*(h*m-d*p)-c*(n*m-a*p)+_*(n*d-a*h),t[14]=-(r*(o*m-f*p)-s*(n*m-a*p)+_*(n*f-a*o)),t[15]=r*(o*d-f*h)-s*(n*d-a*h)+c*(n*f-a*o),t},_.determinant=function(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],s=t[5],o=t[6],f=t[7],u=t[8],c=t[9],h=t[10],d=t[11],l=t[12],_=t[13],p=t[14],m=t[15];return(e*s-r*i)*(h*m-d*p)-(e*o-n*i)*(c*m-d*_)+(e*f-a*i)*(c*p-h*_)+(r*o-n*s)*(u*m-d*l)-(r*f-a*s)*(u*p-h*l)+(n*f-a*o)*(u*_-c*l)},_.multiply=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],f=e[5],u=e[6],c=e[7],h=e[8],d=e[9],l=e[10],_=e[11],p=e[12],m=e[13],b=e[14],y=e[15],v=r[0],g=r[1],T=r[2],E=r[3];return t[0]=v*n+g*o+T*h+E*p,t[1]=v*a+g*f+T*d+E*m,t[2]=v*i+g*u+T*l+E*b,t[3]=v*s+g*c+T*_+E*y,v=r[4],g=r[5],T=r[6],E=r[7],t[4]=v*n+g*o+T*h+E*p,t[5]=v*a+g*f+T*d+E*m,t[6]=v*i+g*u+T*l+E*b,t[7]=v*s+g*c+T*_+E*y,v=r[8],g=r[9],T=r[10],E=r[11],t[8]=v*n+g*o+T*h+E*p,t[9]=v*a+g*f+T*d+E*m,t[10]=v*i+g*u+T*l+E*b,t[11]=v*s+g*c+T*_+E*y,v=r[12],g=r[13],T=r[14],E=r[15],t[12]=v*n+g*o+T*h+E*p,t[13]=v*a+g*f+T*d+E*m,t[14]=v*i+g*u+T*l+E*b,t[15]=v*s+g*c+T*_+E*y,t},_.multiplyAffine=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[4],o=e[5],f=e[6],u=e[8],c=e[9],h=e[10],d=e[12],l=e[13],_=e[14],p=r[0],m=r[1],b=r[2];return t[0]=p*n+m*s+b*u,t[1]=p*a+m*o+b*c,t[2]=p*i+m*f+b*h,p=r[4],m=r[5],b=r[6],t[4]=p*n+m*s+b*u,t[5]=p*a+m*o+b*c,t[6]=p*i+m*f+b*h,p=r[8],m=r[9],b=r[10],t[8]=p*n+m*s+b*u,t[9]=p*a+m*o+b*c,t[10]=p*i+m*f+b*h,p=r[12],m=r[13],b=r[14],t[12]=p*n+m*s+b*u+d,t[13]=p*a+m*o+b*c+l,t[14]=p*i+m*f+b*h+_,t},_.mul=_.multiply,_.mulAffine=_.multiplyAffine,_.translate=function(t,e,r){var n,a,i,s,o,f,u,c,h,d,l,_,p=r[0],m=r[1],b=r[2];return e===t?(t[12]=e[0]*p+e[4]*m+e[8]*b+e[12],t[13]=e[1]*p+e[5]*m+e[9]*b+e[13],t[14]=e[2]*p+e[6]*m+e[10]*b+e[14],t[15]=e[3]*p+e[7]*m+e[11]*b+e[15]):(n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],f=e[5],u=e[6],c=e[7],h=e[8],d=e[9],l=e[10],_=e[11],t[0]=n,t[1]=a,t[2]=i,t[3]=s,t[4]=o,t[5]=f,t[6]=u,t[7]=c,t[8]=h,t[9]=d,t[10]=l,t[11]=_,t[12]=n*p+o*m+h*b+e[12],t[13]=a*p+f*m+d*b+e[13],t[14]=i*p+u*m+l*b+e[14],t[15]=s*p+c*m+_*b+e[15]),t},_.scale=function(t,e,r){var n=r[0],a=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},_.rotate=function(t,e,r,a){var i,s,o,f,u,c,h,d,l,_,p,m,b,y,v,g,T,E,x,A,R,M,O,w,N=a[0],S=a[1],I=a[2],P=Math.sqrt(N*N+S*S+I*I);return Math.abs(P)<n?null:(P=1/P,N*=P,S*=P,I*=P,i=Math.sin(r),s=Math.cos(r),o=1-s,f=e[0],u=e[1],c=e[2],h=e[3],d=e[4],l=e[5],_=e[6],p=e[7],m=e[8],b=e[9],y=e[10],v=e[11],g=N*N*o+s,T=S*N*o+I*i,E=I*N*o-S*i,x=N*S*o-I*i,A=S*S*o+s,R=I*S*o+N*i,M=N*I*o+S*i,O=S*I*o-N*i,w=I*I*o+s,t[0]=f*g+d*T+m*E,t[1]=u*g+l*T+b*E,t[2]=c*g+_*T+y*E,t[3]=h*g+p*T+v*E,t[4]=f*x+d*A+m*R,t[5]=u*x+l*A+b*R,t[6]=c*x+_*A+y*R,t[7]=h*x+p*A+v*R,t[8]=f*M+d*O+m*w,t[9]=u*M+l*O+b*w,t[10]=c*M+_*O+y*w,t[11]=h*M+p*O+v*w,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},_.rotateX=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[4],s=e[5],o=e[6],f=e[7],u=e[8],c=e[9],h=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+u*n,t[5]=s*a+c*n,t[6]=o*a+h*n,t[7]=f*a+d*n,t[8]=u*a-i*n,t[9]=c*a-s*n,t[10]=h*a-o*n,t[11]=d*a-f*n,t},_.rotateY=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],s=e[1],o=e[2],f=e[3],u=e[8],c=e[9],h=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-u*n,t[1]=s*a-c*n,t[2]=o*a-h*n,t[3]=f*a-d*n,t[8]=i*n+u*a,t[9]=s*n+c*a,t[10]=o*n+h*a,t[11]=f*n+d*a,t},_.rotateZ=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],s=e[1],o=e[2],f=e[3],u=e[4],c=e[5],h=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+u*n,t[1]=s*a+c*n,t[2]=o*a+h*n,t[3]=f*a+d*n,t[4]=u*a-i*n,t[5]=c*a-s*n,t[6]=h*a-o*n,t[7]=d*a-f*n,t},_.fromRotationTranslation=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=n+n,f=a+a,u=i+i,c=n*o,h=n*f,d=n*u,l=a*f,_=a*u,p=i*u,m=s*o,b=s*f,y=s*u;return t[0]=1-(l+p),t[1]=h+y,t[2]=d-b,t[3]=0,t[4]=h-y,t[5]=1-(c+p),t[6]=_+m,t[7]=0,t[8]=d+b,t[9]=_-m,t[10]=1-(c+l),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},_.fromQuat=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=r+r,o=n+n,f=a+a,u=r*s,c=n*s,h=n*o,d=a*s,l=a*o,_=a*f,p=i*s,m=i*o,b=i*f;return t[0]=1-h-_,t[1]=c+b,t[2]=d-m,t[3]=0,t[4]=c-b,t[5]=1-u-_,t[6]=l+p,t[7]=0,t[8]=d+m,t[9]=l-p,t[10]=1-u-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},_.frustum=function(t,e,r,n,a,i,s){var o=1/(r-e),f=1/(a-n),u=1/(i-s);return t[0]=2*i*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*f,t[6]=0,t[7]=0,t[8]=(r+e)*o,t[9]=(a+n)*f,t[10]=(s+i)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*i*2*u,t[15]=0,t},_.perspective=function(t,e,r,n,a){var i=1/Math.tan(e/2),s=1/(n-a);return t[0]=i/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+n)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*n*s,t[15]=0,t},_.ortho=function(t,e,r,n,a,i,s){var o=1/(e-r),f=1/(n-a),u=1/(i-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+r)*o,t[13]=(a+n)*f,t[14]=(s+i)*u,t[15]=1,t},_.lookAt=function(t,e,r,a){var i,s,o,f,u,c,h,d,l,p,m=e[0],b=e[1],y=e[2],v=a[0],g=a[1],T=a[2],E=r[0],x=r[1],A=r[2];return Math.abs(m-E)<n&&Math.abs(b-x)<n&&Math.abs(y-A)<n?_.identity(t):(h=m-E,d=b-x,l=y-A,p=1/Math.sqrt(h*h+d*d+l*l),h*=p,d*=p,l*=p,i=g*l-T*d,s=T*h-v*l,o=v*d-g*h,p=Math.sqrt(i*i+s*s+o*o),p?(p=1/p,i*=p,s*=p,o*=p):(i=0,s=0,o=0),f=d*o-l*s,u=l*i-h*o,c=h*s-d*i,p=Math.sqrt(f*f+u*u+c*c),p?(p=1/p,f*=p,u*=p,c*=p):(f=0,u=0,c=0),t[0]=i,t[1]=f,t[2]=h,t[3]=0,t[4]=s,t[5]=u,t[6]=d,t[7]=0,t[8]=o,t[9]=c,t[10]=l,t[11]=0,t[12]=-(i*m+s*b+o*y),t[13]=-(f*m+u*b+c*y),t[14]=-(h*m+d*b+l*y),t[15]=1,t)},_.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},_.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},void 0!==e&&(e.mat4=_);var p={};p.create=function(){var t=new a(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},p.rotationTo=function(){var t=u.create(),e=u.fromValues(1,0,0),r=u.fromValues(0,1,0);return function(n,a,i){var s=u.dot(a,i);return s<-.999999?(u.cross(t,e,a),u.length(t)<1e-6&&u.cross(t,r,a),u.normalize(t,t),p.setAxisAngle(n,t,Math.PI),n):s>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(u.cross(t,a,i),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+s,p.normalize(n,n))}}(),p.setAxes=function(){var t=l.create();return function(e,r,n,a){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],p.normalize(e,p.fromMat3(e,t))}}(),p.clone=c.clone,p.fromValues=c.fromValues,p.copy=c.copy,p.set=c.set,p.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},p.setAxisAngle=function(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t},p.add=c.add,p.multiply=function(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=r[0],f=r[1],u=r[2],c=r[3];return t[0]=n*c+s*o+a*u-i*f,t[1]=a*c+s*f+i*o-n*u,t[2]=i*c+s*u+n*f-a*o,t[3]=s*c-n*o-a*f-i*u,t},p.mul=p.multiply,p.scale=c.scale,p.rotateX=function(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],s=e[3],o=Math.sin(r),f=Math.cos(r);return t[0]=n*f+s*o,t[1]=a*f+i*o,t[2]=i*f-a*o,t[3]=s*f-n*o,t},p.rotateY=function(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],s=e[3],o=Math.sin(r),f=Math.cos(r);return t[0]=n*f-i*o,t[1]=a*f+s*o,t[2]=i*f+n*o,t[3]=s*f-a*o,t},p.rotateZ=function(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],s=e[3],o=Math.sin(r),f=Math.cos(r);return t[0]=n*f+a*o,t[1]=a*f-n*o,t[2]=i*f+s*o,t[3]=s*f-i*o,t},p.calculateW=function(t,e){var r=e[0],n=e[1],a=e[2];return t[0]=r,t[1]=n,t[2]=a,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),t},p.dot=c.dot,p.lerp=c.lerp,p.slerp=function(t,e,r,n){var a,i,s,o,f,u=e[0],c=e[1],h=e[2],d=e[3],l=r[0],_=r[1],p=r[2],m=r[3];return i=u*l+c*_+h*p+d*m,i<0&&(i=-i,l=-l,_=-_,p=-p,m=-m),1-i>1e-6?(a=Math.acos(i),s=Math.sin(a),o=Math.sin((1-n)*a)/s,f=Math.sin(n*a)/s):(o=1-n,f=n),t[0]=o*u+f*l,t[1]=o*c+f*_,t[2]=o*h+f*p,t[3]=o*d+f*m,t},p.invert=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],s=r*r+n*n+a*a+i*i,o=s?1/s:0;return t[0]=-r*o,t[1]=-n*o,t[2]=-a*o,t[3]=i*o,t},p.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},p.length=c.length,p.len=p.length,p.squaredLength=c.squaredLength,p.sqrLen=p.squaredLength,p.normalize=c.normalize,p.fromMat3=function(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var i=(a+1)%3,s=(a+2)%3;r=Math.sqrt(e[3*a+a]-e[3*i+i]-e[3*s+s]+1),t[a]=.5*r,r=.5/r,t[3]=(e[3*i+s]-e[3*s+i])*r,t[i]=(e[3*i+a]+e[3*a+i])*r,t[s]=(e[3*s+a]+e[3*a+s])*r}return t},p.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},void 0!==e&&(e.quat=p)}(n.exports)}()}).call(e,r(30))},function(t,e,r){"use strict";var n=r(43),a=r(44),i=r(12),s=function(){this.__uid__=i.a.genGUID()};s.__initializers__=[function(t){i.a.extend(this,t)}],i.a.extend(s,n.a),i.a.extend(s.prototype,a.a),e.a=s},function(t,e,r){"use strict";e.a={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444}},function(t,e,r){"use strict";var n=r(25);r.d(e,"a",function(){return n.e}),r.d(e,"f",function(){return n.g}),r.d(e,"d",function(){return n.f});var a=r(82);r.d(e,"e",function(){return a.a}),r.d(e,"c",function(){return a.b});var i=r(83);r.d(e,"b",function(){return i.a})},function(t,e,r){"use strict";function n(t,e,r){return t<e?e:t>r?r:t}var a=r(2),i=r.n(a),s=i.a.vec3,o=function(t,e,r){t=t||0,e=e||0,r=r||0,this.array=s.fromValues(t,e,r),this._dirty=!0};o.prototype={constructor:o,add:function(t){return s.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e,r){return this.array[0]=t,this.array[1]=e,this.array[2]=r,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this._dirty=!0,this},clone:function(){return new o(this.x,this.y,this.z)},copy:function(t){return s.copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return s.cross(this.array,t.array,e.array),this._dirty=!0,this},dist:function(t){return s.dist(this.array,t.array)},distance:function(t){return s.distance(this.array,t.array)},div:function(t){return s.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return s.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return s.dot(this.array,t.array)},len:function(){return s.len(this.array)},length:function(){return s.length(this.array)},lerp:function(t,e,r){return s.lerp(this.array,t.array,e.array,r),this._dirty=!0,this},min:function(t){return s.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return s.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return s.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return s.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return s.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return s.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return s.random(this.array,t),this._dirty=!0,this},scale:function(t){return s.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return s.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return s.sqrDist(this.array,t.array)},squaredDistance:function(t){return s.squaredDistance(this.array,t.array)},sqrLen:function(){return s.sqrLen(this.array)},squaredLength:function(){return s.squaredLength(this.array)},sub:function(t){return s.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return s.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return s.transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return s.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},transformQuat:function(t){return s.transformQuat(this.array,this.array,t.array),this._dirty=!0,this},applyProjection:function(t){var e=this.array;if(t=t.array,0===t[15]){var r=-1/e[2];e[0]=t[0]*e[0]*r,e[1]=t[5]*e[1]*r,e[2]=(t[10]*e[2]+t[14])*r}else e[0]=t[0]*e[0]+t[12],e[1]=t[5]*e[1]+t[13],e[2]=t[10]*e[2]+t[14];return this._dirty=!0,this},eulerFromQuat:function(t,e){o.eulerFromQuat(this,t,e)},eulerFromMat3:function(t,e){o.eulerFromMat3(this,t,e)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var f=Object.defineProperty;if(f){var u=o.prototype;f(u,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),f(u,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),f(u,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}})}o.add=function(t,e,r){return s.add(t.array,e.array,r.array),t._dirty=!0,t},o.set=function(t,e,r,n){s.set(t.array,e,r,n),t._dirty=!0},o.copy=function(t,e){return s.copy(t.array,e.array),t._dirty=!0,t},o.cross=function(t,e,r){return s.cross(t.array,e.array,r.array),t._dirty=!0,t},o.dist=function(t,e){return s.distance(t.array,e.array)},o.distance=o.dist,o.div=function(t,e,r){return s.divide(t.array,e.array,r.array),t._dirty=!0,t},o.divide=o.div,o.dot=function(t,e){return s.dot(t.array,e.array)},o.len=function(t){return s.length(t.array)},o.lerp=function(t,e,r,n){return s.lerp(t.array,e.array,r.array,n),t._dirty=!0,t},o.min=function(t,e,r){return s.min(t.array,e.array,r.array),t._dirty=!0,t},o.max=function(t,e,r){return s.max(t.array,e.array,r.array),t._dirty=!0,t},o.mul=function(t,e,r){return s.multiply(t.array,e.array,r.array),t._dirty=!0,t},o.multiply=o.mul,o.negate=function(t,e){return s.negate(t.array,e.array),t._dirty=!0,t},o.normalize=function(t,e){return s.normalize(t.array,e.array),t._dirty=!0,t},o.random=function(t,e){return s.random(t.array,e),t._dirty=!0,t},o.scale=function(t,e,r){return s.scale(t.array,e.array,r),t._dirty=!0,t},o.scaleAndAdd=function(t,e,r,n){return s.scaleAndAdd(t.array,e.array,r.array,n),t._dirty=!0,t},o.sqrDist=function(t,e){return s.sqrDist(t.array,e.array)},o.squaredDistance=o.sqrDist,o.sqrLen=function(t){return s.sqrLen(t.array)},o.squaredLength=o.sqrLen,o.sub=function(t,e,r){return s.subtract(t.array,e.array,r.array),t._dirty=!0,t},o.subtract=o.sub,o.transformMat3=function(t,e,r){return s.transformMat3(t.array,e.array,r.array),t._dirty=!0,t},o.transformMat4=function(t,e,r){return s.transformMat4(t.array,e.array,r.array),t._dirty=!0,t},o.transformQuat=function(t,e,r){return s.transformQuat(t.array,e.array,r.array),t._dirty=!0,t};var c=Math.atan2,h=Math.asin,d=Math.abs;o.eulerFromQuat=function(t,e,r){t._dirty=!0,e=e.array;var a=t.array,i=e[0],s=e[1],o=e[2],f=e[3],u=i*i,d=s*s,l=o*o,_=f*f,r=(r||"XYZ").toUpperCase();switch(r){case"XYZ":a[0]=c(2*(i*f-s*o),_-u-d+l),a[1]=h(n(2*(i*o+s*f),-1,1)),a[2]=c(2*(o*f-i*s),_+u-d-l);break;case"YXZ":a[0]=h(n(2*(i*f-s*o),-1,1)),a[1]=c(2*(i*o+s*f),_-u-d+l),a[2]=c(2*(i*s+o*f),_-u+d-l);break;case"ZXY":a[0]=h(n(2*(i*f+s*o),-1,1)),a[1]=c(2*(s*f-o*i),_-u-d+l),a[2]=c(2*(o*f-i*s),_-u+d-l);break;case"ZYX":a[0]=c(2*(i*f+o*s),_-u-d+l),a[1]=h(n(2*(s*f-i*o),-1,1)),a[2]=c(2*(i*s+o*f),_+u-d-l);break;case"YZX":a[0]=c(2*(i*f-o*s),_-u+d-l),a[1]=c(2*(s*f-i*o),_+u-d-l),a[2]=h(n(2*(i*s+o*f),-1,1));break;case"XZY":a[0]=c(2*(i*f+s*o),_-u+d-l),a[1]=c(2*(i*o+s*f),_+u-d-l),a[2]=h(n(2*(o*f-i*s),-1,1));break;default:console.warn("Unkown order: "+r)}return t},o.eulerFromMat3=function(t,e,r){var a=e.array,i=a[0],s=a[3],o=a[6],f=a[1],u=a[4],l=a[7],_=a[2],p=a[5],m=a[8],b=t.array,r=(r||"XYZ").toUpperCase();switch(r){case"XYZ":b[1]=h(n(o,-1,1)),d(o)<.99999?(b[0]=c(-l,m),b[2]=c(-s,i)):(b[0]=c(p,u),b[2]=0);break;case"YXZ":b[0]=h(-n(l,-1,1)),d(l)<.99999?(b[1]=c(o,m),b[2]=c(f,u)):(b[1]=c(-_,i),b[2]=0);break;case"ZXY":b[0]=h(n(p,-1,1)),d(p)<.99999?(b[1]=c(-_,m),b[2]=c(-s,u)):(b[1]=0,b[2]=c(f,i));break;case"ZYX":b[1]=h(-n(_,-1,1)),d(_)<.99999?(b[0]=c(p,m),b[2]=c(f,i)):(b[0]=0,b[2]=c(-s,u));break;case"YZX":b[2]=h(n(f,-1,1)),d(f)<.99999?(b[0]=c(-l,u),b[1]=c(-_,i)):(b[0]=0,b[1]=c(o,m));break;case"XZY":b[2]=h(-n(s,-1,1)),d(s)<.99999?(b[0]=c(p,u),b[1]=c(o,i)):(b[0]=c(-l,m),b[1]=0);break;default:console.warn("Unkown order: "+r)}return t._dirty=!0,t},Object.defineProperties(o,{POSITIVE_X:{get:function(){return new o(1,0,0)}},NEGATIVE_X:{get:function(){return new o(-1,0,0)}},POSITIVE_Y:{get:function(){return new o(0,1,0)}},NEGATIVE_Y:{get:function(){return new o(0,-1,0)}},POSITIVE_Z:{get:function(){return new o(0,0,1)}},NEGATIVE_Z:{get:function(){return new o(0,0,-1)}},UP:{get:function(){return new o(0,1,0)}},ZERO:{get:function(){return new o}}}),e.a=o},function(t,e,r){"use strict";var n=r(6),a=r(2),i=r.n(a),s=i.a.vec3,o=s.copy,f=s.set,u=function(t,e){this.min=t||new n.a(1/0,1/0,1/0),this.max=e||new n.a(-1/0,-1/0,-1/0),this.vertices=null};u.prototype={constructor:u,updateFromVertices:function(t){if(t.length>0){var e=this.min,r=this.max,n=e.array,a=r.array;o(n,t[0]),o(a,t[0]);for(var i=1;i<t.length;i++){var s=t[i];s[0]<n[0]&&(n[0]=s[0]),s[1]<n[1]&&(n[1]=s[1]),s[2]<n[2]&&(n[2]=s[2]),s[0]>a[0]&&(a[0]=s[0]),s[1]>a[1]&&(a[1]=s[1]),s[2]>a[2]&&(a[2]=s[2])}e._dirty=!0,r._dirty=!0}},union:function(t){var e=this.min,r=this.max;return s.min(e.array,e.array,t.min.array),s.max(r.array,r.array,t.max.array),e._dirty=!0,r._dirty=!0,this},intersection:function(t){var e=this.min,r=this.max;return s.max(e.array,e.array,t.min.array),s.min(r.array,r.array,t.max.array),e._dirty=!0,r._dirty=!0,this},intersectBoundingBox:function(t){var e=this.min.array,r=this.max.array,n=t.min.array,a=t.max.array;return!(e[0]>a[0]||e[1]>a[1]||e[2]>a[2]||r[0]<n[0]||r[1]<n[1]||r[2]<n[2])},containBoundingBox:function(t){var e=this.min.array,r=this.max.array,n=t.min.array,a=t.max.array;return e[0]<=n[0]&&e[1]<=n[1]&&e[2]<=n[2]&&r[0]>=a[0]&&r[1]>=a[1]&&r[2]>=a[2]},containPoint:function(t){var e=this.min.array,r=this.max.array,n=t.array;return e[0]<=n[0]&&e[1]<=n[1]&&e[2]<=n[2]&&r[0]>=n[0]&&r[1]>=n[1]&&r[2]>=n[2]},isFinite:function(){var t=this.min.array,e=this.max.array;return isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])&&isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])},applyTransform:function(t){this.transformFrom(this,t)},transformFrom:function(){var t=s.create(),e=s.create(),r=s.create(),n=s.create(),a=s.create(),i=s.create();return function(s,o){var f=s.min.array,u=s.max.array,c=o.array;return t[0]=c[0]*f[0],t[1]=c[1]*f[0],t[2]=c[2]*f[0],e[0]=c[0]*u[0],e[1]=c[1]*u[0],e[2]=c[2]*u[0],r[0]=c[4]*f[1],r[1]=c[5]*f[1],r[2]=c[6]*f[1],n[0]=c[4]*u[1],n[1]=c[5]*u[1],n[2]=c[6]*u[1],a[0]=c[8]*f[2],a[1]=c[9]*f[2],a[2]=c[10]*f[2],i[0]=c[8]*u[2],i[1]=c[9]*u[2],i[2]=c[10]*u[2],f=this.min.array,u=this.max.array,f[0]=Math.min(t[0],e[0])+Math.min(r[0],n[0])+Math.min(a[0],i[0])+c[12],f[1]=Math.min(t[1],e[1])+Math.min(r[1],n[1])+Math.min(a[1],i[1])+c[13],f[2]=Math.min(t[2],e[2])+Math.min(r[2],n[2])+Math.min(a[2],i[2])+c[14],u[0]=Math.max(t[0],e[0])+Math.max(r[0],n[0])+Math.max(a[0],i[0])+c[12],u[1]=Math.max(t[1],e[1])+Math.max(r[1],n[1])+Math.max(a[1],i[1])+c[13],u[2]=Math.max(t[2],e[2])+Math.max(r[2],n[2])+Math.max(a[2],i[2])+c[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(t){var e=this.min.array,r=this.max.array,n=t.array,a=e[0],i=e[1],s=e[2],o=r[0],f=r[1],u=e[2],c=r[0],h=r[1],d=r[2];if(1===n[15])e[0]=n[0]*a+n[12],e[1]=n[5]*i+n[13],r[2]=n[10]*s+n[14],r[0]=n[0]*c+n[12],r[1]=n[5]*h+n[13],e[2]=n[10]*d+n[14];else{var l=-1/s;e[0]=n[0]*a*l,e[1]=n[5]*i*l,r[2]=(n[10]*s+n[14])*l,l=-1/u,r[0]=n[0]*o*l,r[1]=n[5]*f*l,l=-1/d,e[2]=(n[10]*d+n[14])*l}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var t=this.vertices;if(!t){t=[];for(var e=0;e<8;e++)t[e]=s.fromValues(0,0,0);this.vertices=t}var r=this.min.array,n=this.max.array;return f(t[0],r[0],r[1],r[2]),f(t[1],r[0],n[1],r[2]),f(t[2],n[0],r[1],r[2]),f(t[3],n[0],n[1],r[2]),f(t[4],r[0],r[1],n[2]),f(t[5],r[0],n[1],n[2]),f(t[6],n[0],r[1],n[2]),f(t[7],n[0],n[1],n[2]),this},copy:function(t){var e=this.min,r=this.max;return o(e.array,t.min.array),o(r.array,t.max.array),e._dirty=!0,r._dirty=!0,this},clone:function(){var t=new u;return t.copy(this),t}},e.a=u},function(t,e,r){"use strict";function n(t,e){var r="vertex:"+t+"fragment:"+e;if(A[r])return A[r];var n=f.a.genGUID();return A[r]=n,R[n]={vertex:t,fragment:e},n}function a(t){return t.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function i(){console.error("Wrong uniform/attributes syntax")}function s(t,e){function r(t){t||i();var e=t.match(/\[(.*?)\]/);f=t.replace(/\[(.*?)\]/,""),h[f]={},e&&(h[f].isArray=!0,h[f].arraySize=e[1])}for(var n=/[,=\(\):]/,a=e.replace(/:\s*\[\s*(.*)\s*\]/g,"="+t+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),s=[],o=0;o<a.length;o++)a[o].match(n)?s.push(a[o].charAt(0),a[o].slice(1)):s.push(a[o]);a=s;var f,c=0,h={},d=null;r(a[0]);for(var o=1;o<a.length;o++){var l=a[o];if(l)if("="!==l)if(":"!==l)if(","!==l)if(")"!==l)if("("!==l)if(l.indexOf("vec")>=0){if(1!==c&&4!==c){i();break}c=2,d=[]}else if(1!==c)if(4!==c)r(l),c=0;else{var _=l;g.indexOf(_)>=0||T.indexOf(_)>=0||E.indexOf(_)>=0?h[f].semantic=_:"ignore"===_||"unconfigurable"===_?h[f].ignore=!0:h[f].value="bool"===t?"true"===_:parseFloat(_)}else h[f].value="bool"===t?"true"===l:parseFloat(l),d=null;else{if(2!==c){i();break}if(!(d instanceof Array)){i();break}d.push(+a[++o])}else h[f].value=new u.a.Float32Array(d),d=null,c=5;else if(2===c){if(!(d instanceof Array)){i();break}d.push(+a[++o])}else c=5;else c=4;else{if(0!==c&&3!==c){i();break}c=1}}return h}function o(t,e){"object"==typeof t&&(e=t.fragment,t=t.vertex),t=a(t),e=a(e),this._shaderID=n(t,e),this._vertexCode=o.parseImport(t),this._fragmentCode=o.parseImport(e),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}var f=r(12),u=r(13),c=r(2),h=r.n(c),d=h.a.mat2,l=h.a.mat3,_=h.a.mat4,p=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,m=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,b=/#define\s+(\w+)?(\s+[\w-.]+)?\s*;?\s*\n/g,y={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"},v={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return[0,0]},vec3:function(){return[0,0,0]},vec4:function(){return[0,0,0,0]},ivec2:function(){return[0,0]},ivec3:function(){return[0,0,0]},ivec4:function(){return[0,0,0,0]},mat2:function(){return d.create()},mat3:function(){return l.create()},mat4:function(){return _.create()},array:function(){return[]}},g=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],T=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],E=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],x={vec4:4,vec3:3,vec2:2,float:1},A={},R={};o.prototype={constructor:o,createUniforms:function(){var t={};for(var e in this.uniformTemplates){var r=this.uniformTemplates[e];t[e]={type:r.type,value:r.value()}}return t},_parseImport:function(){this._vertexCode=o.parseImport(this.vertex),this._fragmentCode=o.parseImport(this.fragment)},_addSemanticUniform:function(t,e,r){if(g.indexOf(r)>=0)this.attributeSemantics[r]={symbol:t,type:e};else if(E.indexOf(r)>=0){var n=!1,a=r;r.match(/TRANSPOSE$/)&&(n=!0,a=r.slice(0,-9)),this.matrixSemantics[r]={symbol:t,type:e,isTranspose:n,semanticNoTranspose:a}}else T.indexOf(r)>=0&&(this.uniformSemantics[r]={symbol:t,type:e})},_addMaterialUniform:function(t,e,r,n,a,i){i[t]={type:r,value:a?v.array:n||v[e],semantic:null}},_parseUniforms:function(){function t(t){return null!=t?function(){return t}:null}function e(e,i,o){var f=s(i,o),u=[];for(var c in f){var h=f[c],d=h.semantic,l=c,_=y[i],p=t(f[c].value);f[c].isArray&&(l+="["+f[c].arraySize+"]",_+="v"),u.push(l),n._uniformList.push(c),h.ignore||("sampler2D"!==i&&"samplerCube"!==i||(n.textures[c]={shaderType:a,type:i}),d?n._addSemanticUniform(c,_,d):n._addMaterialUniform(c,i,_,p,f[c].isArray,r))}return u.length>0?"uniform "+i+" "+u.join(",")+";\n":""}var r={},n=this,a="vertex";this._uniformList=[],this._vertexCode=this._vertexCode.replace(p,e),a="fragment",this._fragmentCode=this._fragmentCode.replace(p,e),n.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=r},_parseAttributes:function(){function t(t,n,a){var i=s(n,a),o=x[n]||1,f=[];for(var u in i){var c=i[u].semantic;if(e[u]={type:"float",size:o,semantic:c||null},c){if(g.indexOf(c)<0)throw new Error('Unkown semantic "'+c+'"');r.attributeSemantics[c]={symbol:u,type:n}}f.push(u)}return"attribute "+n+" "+f.join(",")+";\n"}var e={},r=this;this._vertexCode=this._vertexCode.replace(m,t),this.attributes=e},_parseDefines:function(){function t(t,n,a){var i="vertex"===r?e.vertexDefines:e.fragmentDefines;return i[n]||(i[n]="false"!==a&&("true"===a||(a?isNaN(parseFloat(a))?a.trim():parseFloat(a):null))),""}var e=this,r="vertex";this._vertexCode=this._vertexCode.replace(b,t),r="fragment",this._fragmentCode=this._fragmentCode.replace(b,t)},clone:function(){var t=R[this._shaderID];return new o(t.vertex,t.fragment)}},Object.defineProperty&&(Object.defineProperty(o.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(o.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(o.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(o.prototype,"uniforms",{get:function(){return this._uniformList}}));var M=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;o.parseImport=function(t){return t=t.replace(M,function(t,e,r){var t=o.source(r);return t?o.parseImport(t):(console.error('Shader chunk "'+r+'" not existed in library'),"")})};var O=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;o.import=function(t){t.replace(O,function(t,e,r,n){var n=n.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"");if(n){for(var a,i=r.split("."),s=o.codes,f=0;f<i.length-1;)a=i[f++],s[a]||(s[a]={}),s=s[a];a=i[f],s[a]=n}return n})},o.codes={},o.source=function(t){for(var e=t.split("."),r=o.codes,n=0;r&&n<e.length;){r=r[e[n++]]}return"string"!=typeof r?(console.error('Shader "'+t+'" not existed in library'),""):r},e.a=o},function(t,e,r){"use strict";function n(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}function a(t,e){var r=n(t.width),a=n(t.height);return e=e||document.createElement("canvas"),e.width=r,e.height=a,e.getContext("2d").drawImage(t.image,0,0,r,a),e}var i=r(10),s=r(4),o=r(31),f=o.a.isPowerOfTwo,u=i.a.extend(function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}},{textureType:"texture2D",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(t);var r=this.format,n=this.type,a=!(!this.convertToPOT||this.mipmaps.length||!this.image||this.wrapS!==i.a.REPEAT&&this.wrapT!==i.a.REPEAT||!this.NPOT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,a?this.wrapS:this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,a?this.wrapT:this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,a?this.magFilter:this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,a?this.minFilter:this.getAvailableMinFilter());var o=t.getGLExtension("EXT_texture_filter_anisotropic");if(o&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_2D,o.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===n){t.getGLExtension("OES_texture_half_float")||(n=s.a.FLOAT)}if(this.mipmaps.length)for(var f=this.width,u=this.height,c=0;c<this.mipmaps.length;c++){var h=this.mipmaps[c];this._updateTextureData(e,h,c,f,u,r,n,!1),f/=2,u/=2}else this._updateTextureData(e,this,0,this.width,this.height,r,n,a),!this.useMipmap||this.NPOT&&!a||e.generateMipmap(e.TEXTURE_2D);e.bindTexture(e.TEXTURE_2D,null)},_updateTextureData:function(t,e,r,n,s,o,f,u){if(e.image){var c=e.image;u&&(this._potCanvas=a(this,this._potCanvas),c=this._potCanvas),t.texImage2D(t.TEXTURE_2D,r,o,o,f,c)}else o<=i.a.COMPRESSED_RGBA_S3TC_DXT5_EXT&&o>=i.a.COMPRESSED_RGB_S3TC_DXT1_EXT?t.compressedTexImage2D(t.TEXTURE_2D,r,o,n,s,0,e.pixels):t.texImage2D(t.TEXTURE_2D,r,o,n,s,0,o,f,e.pixels)},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_2D))},isPowerOfTwo:function(){return f(this.width)&&f(this.height)},isRenderable:function(){return this.image?"CANVAS"===this.image.nodeName||"VIDEO"===this.image.nodeName||this.image.complete:!(!this.width||!this.height)},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,null)},load:function(t,e){var r=new Image;e&&(r.crossOrigin=e);var n=this;return r.onload=function(){n.dirty(),n.trigger("success",n),r.onload=null},r.onerror=function(){n.trigger("error",n),r.onerror=null},r.src=t,this.image=r,this}});Object.defineProperty(u.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(t){this.image?console.warn("Texture from image can't set width"):(this._width!==t&&this.dirty(),this._width=t)}}),Object.defineProperty(u.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(t){this.image?console.warn("Texture from image can't set height"):(this._height!==t&&this.dirty(),this._height=t)}}),e.a=u},function(t,e,r){"use strict";var n=r(3),a=r(4),i=r(20),s=n.a.extend({width:512,height:512,type:a.a.UNSIGNED_BYTE,format:a.a.RGBA,wrapS:a.a.REPEAT,wrapT:a.a.REPEAT,minFilter:a.a.LINEAR_MIPMAP_LINEAR,magFilter:a.a.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},function(){this._cache=new i.a},{getWebGLTexture:function(t){var e=t.gl,r=this._cache;return r.use(t.__uid__),r.miss("webgl_texture")&&r.put("webgl_texture",e.createTexture()),this.dynamic?this.update(t):r.isDirty()&&(this.update(t),r.fresh()),r.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(t){},updateCommon:function(t){var e=t.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,this.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===a.a.DEPTH_COMPONENT&&(this.useMipmap=!1);var r=t.getGLExtension("EXT_sRGB");this.format!==s.SRGB||r||(this.format=s.RGB),this.format!==s.SRGB_ALPHA||r||(this.format=s.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?a.a.CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?a.a.CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var t=this.minFilter;return this.NPOT||!this.useMipmap?t===a.a.NEAREST_MIPMAP_NEAREST||t===a.a.NEAREST_MIPMAP_LINEAR?a.a.NEAREST:t===a.a.LINEAR_MIPMAP_LINEAR||t===a.a.LINEAR_MIPMAP_NEAREST?a.a.LINEAR:t:t},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(t){--t;for(var e=1;e<32;e<<=1)t|=t>>e;return t+1},dispose:function(t){var e=this._cache;e.use(t.__uid__);var r=e.get("webgl_texture");r&&t.gl.deleteTexture(r),e.deleteContext(t.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(s.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(s.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),s.BYTE=a.a.BYTE,s.UNSIGNED_BYTE=a.a.UNSIGNED_BYTE,s.SHORT=a.a.SHORT,s.UNSIGNED_SHORT=a.a.UNSIGNED_SHORT,s.INT=a.a.INT,s.UNSIGNED_INT=a.a.UNSIGNED_INT,s.FLOAT=a.a.FLOAT,s.HALF_FLOAT=36193,s.UNSIGNED_INT_24_8_WEBGL=34042,s.DEPTH_COMPONENT=a.a.DEPTH_COMPONENT,s.DEPTH_STENCIL=a.a.DEPTH_STENCIL,s.ALPHA=a.a.ALPHA,s.RGB=a.a.RGB,s.RGBA=a.a.RGBA,s.LUMINANCE=a.a.LUMINANCE,s.LUMINANCE_ALPHA=a.a.LUMINANCE_ALPHA,s.SRGB=35904,s.SRGB_ALPHA=35906,s.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,s.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,s.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,s.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,s.NEAREST=a.a.NEAREST,s.LINEAR=a.a.LINEAR,s.NEAREST_MIPMAP_NEAREST=a.a.NEAREST_MIPMAP_NEAREST,s.LINEAR_MIPMAP_NEAREST=a.a.LINEAR_MIPMAP_NEAREST,s.NEAREST_MIPMAP_LINEAR=a.a.NEAREST_MIPMAP_LINEAR,s.LINEAR_MIPMAP_LINEAR=a.a.LINEAR_MIPMAP_LINEAR,s.REPEAT=a.a.REPEAT,s.CLAMP_TO_EDGE=a.a.CLAMP_TO_EDGE,s.MIRRORED_REPEAT=a.a.MIRRORED_REPEAT,e.a=s},function(t,e,r){"use strict";function n(t,e){return function(r){return t+r*e}}function a(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function i(t,e){var r=e-t;return r?n(t,r>180||r<-180?r-360*Math.round(r/360):r):Object(f.a)(isNaN(t)?e:t)}function s(t){return 1==(t=+t)?o:function(e,r){return r-e?a(e,r,t):Object(f.a)(isNaN(e)?r:e)}}function o(t,e){var r=e-t;return r?n(t,r):Object(f.a)(isNaN(t)?e:t)}e.c=i,e.b=s,e.a=o;var f=r(36)},function(t,e,r){"use strict";var n=0,a=Array.prototype,i=a.forEach,s={genGUID:function(){return++n},relative2absolute:function(t,e){if(!e||t.match(/^\//))return t;for(var r=t.split("/"),n=e.split("/"),a=r[0];"."===a||".."===a;)".."===a&&n.pop(),r.shift(),a=r[0];return n.join("/")+"/"+r.join("/")},extend:function(t,e){if(e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},defaults:function(t,e){if(e)for(var r in e)void 0===t[r]&&(t[r]=e[r]);return t},extendWithPropList:function(t,e,r){if(e)for(var n=0;n<r.length;n++){var a=r[n];t[a]=e[a]}return t},defaultsWithPropList:function(t,e,r){if(e)for(var n=0;n<r.length;n++){var a=r[n];null==t[a]&&(t[a]=e[a])}return t},each:function(t,e,r){if(t&&e)if(t.forEach&&t.forEach===i)t.forEach(e,r);else if(t.length===+t.length)for(var n=0,a=t.length;n<a;n++)e.call(r,t[n],n,t);else for(var s in t)t.hasOwnProperty(s)&&e.call(r,t[s],s,t)},isObject:function(t){return t===Object(t)},isArray:function(t){return Array.isArray(t)},isArrayLike:function(t){return!!t&&t.length===+t.length},clone:function(t){if(s.isObject(t)){if(s.isArray(t))return t.slice();if(s.isArrayLike(t)){for(var e=new t.constructor(t.length),r=0;r<t.length;r++)e[r]=t[r];return e}return s.extend({},t)}return t}};e.a=s},function(t,e,r){"use strict";var n=!0;try{var a=document.createElement("canvas");if(!(a.getContext("webgl")||a.getContext("experimental-webgl")))throw new Error}catch(t){n=!1}var i={};i.supportWebGL=function(){return n},i.Int8Array="undefined"==typeof Int8Array?Array:Int8Array,i.Uint8Array="undefined"==typeof Uint8Array?Array:Uint8Array,i.Uint16Array="undefined"==typeof Uint16Array?Array:Uint16Array,i.Uint32Array="undefined"==typeof Uint32Array?Array:Uint32Array,i.Int16Array="undefined"==typeof Int16Array?Array:Int16Array,i.Float32Array="undefined"==typeof Float32Array?Array:Float32Array,i.Float64Array="undefined"==typeof Float64Array?Array:Float64Array,e.a=i},function(t,e,r){"use strict";function n(t){var e=Object.keys(t);e.sort();for(var r=[],n=0;n<e.length;n++){var a=e[n],i=t[a];null===i?r.push(a):r.push(a+" "+i.toString())}return r.join("\n")}function a(t,e,r){r.sort();for(var a=[],i=0;i<r.length;i++){var o=r[i];a.push(o)}var f=n(t)+"\n"+n(e)+"\n"+a.join("\n");if(u[f])return u[f];var c=s.a.genGUID();return u[f]=c,c}var i=r(3),s=r(12),o=r(50),f=o.a.parseToFloat,u={},c=i.a.extend(function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}},function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)},{precision:"highp",setUniform:function(t,e){void 0===e&&console.warn('Uniform value "'+t+'" is undefined');var r=this.uniforms[t];r&&("string"==typeof e&&(e=f(e)||e),r.value=e,this.autoUpdateTextureStatus&&"t"===r.type&&(e?this.enableTexture(t):this.disableTexture(t)))},setUniforms:function(t){for(var e in t){var r=t[e];this.setUniform(e,r)}},isUniformEnabled:function(t){return this._enabledUniforms.indexOf(t)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(t,e){if("object"==typeof t)for(var r in t){var n=t[r];this.setUniform(r,n)}else this.setUniform(t,e)},get:function(t){var e=this.uniforms[t];if(e)return e.value},attachShader:function(t,e){var r=this.uniforms;this.uniforms=t.createUniforms(),this.shader=t;var n=this.uniforms;this._enabledUniforms=Object.keys(n),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter(function(t){var e=this.uniforms[t].type;return"t"===e||"tv"===e},this);var a=this.vertexDefines,i=this.fragmentDefines;if(this.vertexDefines=s.a.clone(t.vertexDefines),this.fragmentDefines=s.a.clone(t.fragmentDefines),e){for(var o in r)n[o]&&(n[o].value=r[o].value);s.a.defaults(this.vertexDefines,a),s.a.defaults(this.fragmentDefines,i)}var f={};for(var u in t.textures)f[u]={shaderType:t.textures[u].shaderType,type:t.textures[u].type,enabled:!(!e||!this._textureStatus[u])&&this._textureStatus[u].enabled};this._textureStatus=f,this._programKey=""},clone:function(){var t=new this.constructor({name:this.name,shader:this.shader});for(var e in this.uniforms)t.uniforms[e].value=this.uniforms[e].value;return t.depthTest=this.depthTest,t.depthMask=this.depthMask,t.transparent=this.transparent,t.blend=this.blend,t.vertexDefines=s.a.clone(this.vertexDefines),t.fragmentDefines=s.a.clone(this.fragmentDefines),t.enableTexture(this.getEnabledTextures()),t.precision=this.precision,t},define:function(t,e,r){var n=this.vertexDefines,a=this.fragmentDefines;"vertex"!==t&&"fragment"!==t&&"both"!==t&&arguments.length<3&&(r=e,e=t,t="both"),r=null!=r?r:null,"vertex"!==t&&"both"!==t||n[e]!==r&&(n[e]=r,this._programKey=""),"fragment"!==t&&"both"!==t||a[e]!==r&&(a[e]=r,"both"!==t&&(this._programKey=""))},undefine:function(t,e){"vertex"!==t&&"fragment"!==t&&"both"!==t&&arguments.length<2&&(e=t,t="both"),"vertex"!==t&&"both"!==t||this.isDefined("vertex",e)&&(delete this.vertexDefines[e],this._programKey=""),"fragment"!==t&&"both"!==t||this.isDefined("fragment",e)&&(delete this.fragmentDefines[e],"both"!==t&&(this._programKey=""))},isDefined:function(t,e){switch(t){case"vertex":return void 0!==this.vertexDefines[e];case"fragment":return void 0!==this.fragmentDefines[e]}},getDefine:function(t,e){switch(t){case"vertex":return this.vertexDefines[e];case"fragment":return this.fragmentDefines[e]}},enableTexture:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.enableTexture(t[e]);else{var r=this._textureStatus[t];if(r){r.enabled||(r.enabled=!0,this._programKey="")}}},enableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!0;this._programKey=""},disableTexture:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.disableTexture(t[e]);else{var r=this._textureStatus[t];if(r){!r.enabled||(r.enabled=!1,this._programKey="")}}},disableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!1;this._programKey=""},isTextureEnabled:function(t){var e=this._textureStatus;return!!e[t]&&e[t].enabled},getEnabledTextures:function(){var t=[],e=this._textureStatus;for(var r in e)e[r].enabled&&t.push(r);return t},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=a(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}});e.a=c},function(t,e,r){"use strict";e.a=function(t,e){return t=+t,e-=t,function(r){return t+e*r}}},function(t,e,r){"use strict";var n=r(45),a=n.a.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array;this.left=(-1-t[12])/t[0],this.right=(1-t[12])/t[0],this.top=(1-t[13])/t[5],this.bottom=(-1-t[13])/t[5],this.near=-(-1-t[14])/t[10],this.far=-(1-t[14])/t[10]},clone:function(){var t=n.a.prototype.clone.call(this);return t.left=this.left,t.right=this.right,t.near=this.near,t.far=this.far,t.top=this.top,t.bottom=this.bottom,t}});e.a=a},function(t,e,r){"use strict";var n=r(2),a=r.n(n),i=r(6),s=a.a.mat4,o=a.a.vec3,f=a.a.mat3,u=a.a.quat,c=function(){this._axisX=new i.a,this._axisY=new i.a,this._axisZ=new i.a,this.array=s.create(),this._dirty=!0};c.prototype={constructor:c,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},adjoint:function(){return s.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new c).copy(this)},copy:function(t){return s.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return s.determinant(this.array)},fromQuat:function(t){return s.fromQuat(this.array,t.array),this._dirty=!0,this},fromRotationTranslation:function(t,e){return s.fromRotationTranslation(this.array,t.array,e.array),this._dirty=!0,this},fromMat2d:function(t){return c.fromMat2d(this,t),this},frustum:function(t,e,r,n,a,i){return s.frustum(this.array,t,e,r,n,a,i),this._dirty=!0,this},identity:function(){return s.identity(this.array),this._dirty=!0,this},invert:function(){return s.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(t,e,r){return s.lookAt(this.array,t.array,e.array,r.array),this._dirty=!0,this},mul:function(t){return s.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return s.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return s.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return s.multiply(this.array,t.array,this.array),this._dirty=!0,this},ortho:function(t,e,r,n,a,i){return s.ortho(this.array,t,e,r,n,a,i),this._dirty=!0,this},perspective:function(t,e,r,n){return s.perspective(this.array,t,e,r,n),this._dirty=!0,this},rotate:function(t,e){return s.rotate(this.array,this.array,t,e.array),this._dirty=!0,this},rotateX:function(t){return s.rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return s.rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return s.rotateZ(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return s.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return s.translate(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return s.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var t=o.create(),e=o.create(),r=o.create(),n=f.create();return function(a,i,s){var c=this.array;o.set(t,c[0],c[1],c[2]),o.set(e,c[4],c[5],c[6]),o.set(r,c[8],c[9],c[10]);var h=o.length(t),d=o.length(e),l=o.length(r);this.determinant()<0&&(h=-h),a&&a.set(h,d,l),s.set(c[12],c[13],c[14]),f.fromMat4(n,c),n[0]/=h,n[1]/=h,n[2]/=h,n[3]/=d,n[4]/=d,n[5]/=d,n[6]/=l,n[7]/=l,n[8]/=l,u.fromMat3(i.array,n),u.normalize(i.array,i.array),i._dirty=!0,s._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var h=Object.defineProperty;if(h){var d=c.prototype;h(d,"z",{get:function(){var t=this.array;return this._axisZ.set(t[8],t[9],t[10]),this._axisZ},set:function(t){var e=this.array;t=t.array,e[8]=t[0],e[9]=t[1],e[10]=t[2],this._dirty=!0}}),h(d,"y",{get:function(){var t=this.array;return this._axisY.set(t[4],t[5],t[6]),this._axisY},set:function(t){var e=this.array;t=t.array,e[4]=t[0],e[5]=t[1],e[6]=t[2],this._dirty=!0}}),h(d,"x",{get:function(){var t=this.array;return this._axisX.set(t[0],t[1],t[2]),this._axisX},set:function(t){var e=this.array;t=t.array,e[0]=t[0],e[1]=t[1],e[2]=t[2],this._dirty=!0}})}c.adjoint=function(t,e){return s.adjoint(t.array,e.array),t._dirty=!0,t},c.copy=function(t,e){return s.copy(t.array,e.array),t._dirty=!0,t},c.determinant=function(t){return s.determinant(t.array)},c.identity=function(t){return s.identity(t.array),t._dirty=!0,t},c.ortho=function(t,e,r,n,a,i,o){return s.ortho(t.array,e,r,n,a,i,o),t._dirty=!0,t},c.perspective=function(t,e,r,n,a){return s.perspective(t.array,e,r,n,a),t._dirty=!0,t},c.lookAt=function(t,e,r,n){return s.lookAt(t.array,e.array,r.array,n.array),t._dirty=!0,t},c.invert=function(t,e){return s.invert(t.array,e.array),t._dirty=!0,t},c.mul=function(t,e,r){return s.mul(t.array,e.array,r.array),t._dirty=!0,t},c.multiply=c.mul,c.fromQuat=function(t,e){return s.fromQuat(t.array,e.array),t._dirty=!0,t},c.fromRotationTranslation=function(t,e,r){return s.fromRotationTranslation(t.array,e.array,r.array),t._dirty=!0,t},c.fromMat2d=function(t,e){t._dirty=!0;var e=e.array,t=t.array;return t[0]=e[0],t[4]=e[2],t[12]=e[4],t[1]=e[1],t[5]=e[3],t[13]=e[5],t},c.rotate=function(t,e,r,n){return s.rotate(t.array,e.array,r,n.array),t._dirty=!0,t},c.rotateX=function(t,e,r){return s.rotateX(t.array,e.array,r),t._dirty=!0,t},c.rotateY=function(t,e,r){return s.rotateY(t.array,e.array,r),t._dirty=!0,t},c.rotateZ=function(t,e,r){return s.rotateZ(t.array,e.array,r),t._dirty=!0,t},c.scale=function(t,e,r){return s.scale(t.array,e.array,r.array),t._dirty=!0,t},c.transpose=function(t,e){return s.transpose(t.array,e.array),t._dirty=!0,t},c.translate=function(t,e,r){return s.translate(t.array,e.array,r.array),t._dirty=!0,t},e.a=c},function(t,e,r){"use strict";var n=r(19),a=r(7),i=n.a.extend({dynamic:!1,widthSegments:1,heightSegments:1},function(){this.build()},{build:function(){for(var t=this.heightSegments,e=this.widthSegments,r=this.attributes,n=[],i=[],s=[],o=[],f=0;f<=t;f++)for(var u=f/t,c=0;c<=e;c++){var h=c/e;if(n.push([2*h-1,2*u-1,0]),i&&i.push([h,u]),s&&s.push([0,0,1]),c<e&&f<t){var d=c+f*(e+1);o.push([d,d+1,d+e+1]),o.push([d+e+1,d+1,d+e+2])}}r.position.fromArray(n),r.texcoord0.fromArray(i),r.normal.fromArray(s),this.initIndicesFromArray(o),this.boundingBox=new a.a,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}});e.a=i},function(t,e,r){"use strict";function n(t){return{byte:h.a.Int8Array,ubyte:h.a.Uint8Array,short:h.a.Int16Array,ushort:h.a.Uint16Array}[t]||h.a.Float32Array}function a(t){return"attr_"+t}function i(t,e,r,n){switch(this.name=t,this.type=e,this.size=r,this.semantic=n||"",this.value=null,r){case 1:this.get=function(t){return this.value[t]},this.set=function(t,e){this.value[t]=e},this.copy=function(t,e){this.value[t]=this.value[t]};break;case 2:this.get=function(t,e){var r=this.value;return e[0]=r[2*t],e[1]=r[2*t+1],e},this.set=function(t,e){var r=this.value;r[2*t]=e[0],r[2*t+1]=e[1]},this.copy=function(t,e){var r=this.value;e*=2,t*=2,r[t]=r[e],r[t+1]=r[e+1]};break;case 3:this.get=function(t,e){var r=3*t,n=this.value;return e[0]=n[r],e[1]=n[r+1],e[2]=n[r+2],e},this.set=function(t,e){var r=3*t,n=this.value;n[r]=e[0],n[r+1]=e[1],n[r+2]=e[2]},this.copy=function(t,e){var r=this.value;e*=3,t*=3,r[t]=r[e],r[t+1]=r[e+1],r[t+2]=r[e+2]};break;case 4:this.get=function(t,e){var r=this.value,n=4*t;return e[0]=r[n],e[1]=r[n+1],e[2]=r[n+2],e[3]=r[n+3],e},this.set=function(t,e){var r=this.value,n=4*t;r[n]=e[0],r[n+1]=e[1],r[n+2]=e[2],r[n+3]=e[3]},this.copy=function(t,e){var r=this.value;e*=4,t*=4,r[t]=r[e],r[t+1]=r[e+1],r[t+2]=r[e+2],r[t+3]=r[e+3]}}}function s(t,e,r,n,a){this.name=t,this.type=e,this.buffer=r,this.size=n,this.semantic=a,this.symbol="",this.needsRemove=!1}function o(t){this.buffer=t,this.count=0}var f=r(3),u=r(4),c=r(20),h=r(13),d=r(2),l=r.n(d),_=r(7),p=l.a.vec3,m=l.a.mat4,b=p.create,y=p.add,v=p.set;i.prototype.init=function(t){if(!this.value||this.value.length!=t*this.size){var e=n(this.type);this.value=new e(t*this.size)}},i.prototype.fromArray=function(t){var e,r=n(this.type);if(t[0]&&t[0].length){var a=0,i=this.size;e=new r(t.length*i);for(var s=0;s<t.length;s++)for(var o=0;o<i;o++)e[a++]=t[s][o]}else e=new r(t);this.value=e},i.prototype.clone=function(t){var e=new i(this.name,this.type,this.size,this.semantic);return t&&console.warn("todo"),e};var g=f.a.extend(function(){return{attributes:{position:new i("position","float",3,"POSITION"),texcoord0:new i("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new i("texcoord1","float",2,"TEXCOORD_1"),normal:new i("normal","float",3,"NORMAL"),tangent:new i("tangent","float",4,"TANGENT"),color:new i("color","float",4,"COLOR"),weight:new i("weight","float",3,"WEIGHT"),joint:new i("joint","float",4,"JOINT"),barycentric:new i("barycentric","float",3,null)},boundingBox:null,indices:null,dynamic:!0,_enabledAttributes:null,__used:0}},function(){this._cache=new c.a,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}},{mainAttribute:"position",pick:null,pickByRay:null,updateBoundingBox:function(){var t=this.boundingBox;t||(t=this.boundingBox=new _.a);var e=this.attributes.position.value;if(e&&e.length){var r=t.min,n=t.max,a=r.array,i=n.array;p.set(a,e[0],e[1],e[2]),p.set(i,e[0],e[1],e[2]);for(var s=3;s<e.length;){var o=e[s++],f=e[s++],u=e[s++];o<a[0]&&(a[0]=o),f<a[1]&&(a[1]=f),u<a[2]&&(a[2]=u),o>i[0]&&(i[0]=o),f>i[1]&&(i[1]=f),u>i[2]&&(i[2]=u)}r._dirty=!0,n._dirty=!0}},dirty:function(){for(var t=this.getEnabledAttributes(),e=0;e<t.length;e++)this.dirtyAttribute(t[e]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(t){this._cache.dirtyAll(a(t)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(t,e){if(t<this.triangleCount&&t>=0){e||(e=b());var r=this.indices;return e[0]=r[3*t],e[1]=r[3*t+1],e[2]=r[3*t+2],e}},setTriangleIndices:function(t,e){var r=this.indices;r[3*t]=e[0],r[3*t+1]=e[1],r[3*t+2]=e[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(t){var e,r=this.vertexCount>65535?h.a.Uint32Array:h.a.Uint16Array;if(t[0]&&t[0].length){var n=0;e=new r(3*t.length);for(var a=0;a<t.length;a++)for(var i=0;i<3;i++)e[n++]=t[a][i]}else e=new r(t);this.indices=e},createAttribute:function(t,e,r,n){var a=new i(t,e,r,n);return this.attributes[t]&&this.removeAttribute(t),this.attributes[t]=a,this._attributeList.push(t),a},removeAttribute:function(t){var e=this._attributeList,r=e.indexOf(t);return r>=0&&(e.splice(r,1),delete this.attributes[t],!0)},getAttribute:function(t){return this.attributes[t]},getEnabledAttributes:function(){var t=this._enabledAttributes,e=this._attributeList;if(t)return t;for(var r=[],n=this.vertexCount,a=0;a<e.length;a++){var i=e[a],s=this.attributes[i];s.value&&s.value.length===n*s.size&&r.push(i)}return this._enabledAttributes=r,r},getBufferChunks:function(t){var e=this._cache;e.use(t.__uid__);var r=e.isDirty("attributes"),n=e.isDirty("indices");if(r||n){this._updateBuffer(t.gl,r,n);for(var i=this.getEnabledAttributes(),s=0;s<i.length;s++)e.fresh(a(i[s]));e.fresh("attributes"),e.fresh("indices")}return e.fresh("any"),e.get("chunks")},_updateBuffer:function(t,e,r){var n=this._cache,i=n.get("chunks"),f=!1;i||(i=[],i[0]={attributeBuffers:[],indicesBuffer:null},n.put("chunks",i),f=!0);var c=i[0],h=c.attributeBuffers,d=c.indicesBuffer;if(e||f){var l=this.getEnabledAttributes(),_={};if(!f)for(var p=0;p<h.length;p++)_[h[p].name]=h[p];for(var m=0;m<l.length;m++){var b,y=l[m],v=this.attributes[y];f||(b=_[y]);var g;g=b?b.buffer:t.createBuffer(),n.isDirty(a(y))&&(t.bindBuffer(t.ARRAY_BUFFER,g),t.bufferData(t.ARRAY_BUFFER,v.value,this.dynamic?u.a.DYNAMIC_DRAW:u.a.STATIC_DRAW)),h[m]=new s(y,v.type,g,v.size,v.semantic)}for(var p=m;p<h.length;p++)t.deleteBuffer(h[p].buffer);h.length=m}this.isUseIndices()&&(r||f)&&(d||(d=new o(t.createBuffer()),c.indicesBuffer=d),d.count=this.indices.length,t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,d.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?u.a.DYNAMIC_DRAW:u.a.STATIC_DRAW))},generateVertexNormals:function(){if(this.vertexCount){var t=this.indices,e=this.attributes,r=e.position.value,n=e.normal.value;if(n&&n.length===r.length)for(var a=0;a<n.length;a++)n[a]=0;else n=e.normal.value=new h.a.Float32Array(r.length);for(var i,s,o,f=b(),u=b(),c=b(),d=b(),l=b(),_=b(),m=t?t.length:this.vertexCount,y=0;y<m;){t?(i=t[y++],s=t[y++],o=t[y++]):(i=y++,s=y++,o=y++),v(f,r[3*i],r[3*i+1],r[3*i+2]),v(u,r[3*s],r[3*s+1],r[3*s+2]),v(c,r[3*o],r[3*o+1],r[3*o+2]),p.sub(d,f,u),p.sub(l,u,c),p.cross(_,d,l);for(var a=0;a<3;a++)n[3*i+a]=n[3*i+a]+_[a],n[3*s+a]=n[3*s+a]+_[a],n[3*o+a]=n[3*o+a]+_[a]}for(var a=0;a<n.length;)v(_,n[a],n[a+1],n[a+2]),p.normalize(_,_),n[a++]=_[0],n[a++]=_[1],n[a++]=_[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var t=this.indices,e=this.attributes,r=e.position.value,n=e.normal.value,a=b(),i=b(),s=b(),o=b(),f=b(),u=b();n||(n=e.normal.value=new Float32Array(r.length));for(var c,h,d,l=t?t.length:this.vertexCount,_=0;_<l;){t?(c=t[_++],h=t[_++],d=t[_++]):(c=_++,h=_++,d=_++),v(a,r[3*c],r[3*c+1],r[3*c+2]),v(i,r[3*h],r[3*h+1],r[3*h+2]),v(s,r[3*d],r[3*d+1],r[3*d+2]),p.sub(o,a,i),p.sub(f,i,s),p.cross(u,o,f),p.normalize(u,u);for(var m=0;m<3;m++)n[3*c+m]=u[m],n[3*h+m]=u[m],n[3*d+m]=u[m]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var t=this.vertexCount,e=this.attributes;e.tangent.value||(e.tangent.value=new Float32Array(4*t));var r=e.texcoord0.value,n=e.position.value,a=e.tangent.value,i=e.normal.value;if(!r)return void console.warn("Geometry without texcoords can't generate tangents.");for(var s=[],o=[],f=0;f<t;f++)s[f]=[0,0,0],o[f]=[0,0,0];for(var u,c,h,d=[0,0,0],l=[0,0,0],_=this.indices,m=_?_.length:this.vertexCount,f=0;f<m;){_?(u=_[f++],c=_[f++],h=_[f++]):(u=f++,c=f++,h=f++);var v=r[2*u],g=r[2*c],T=r[2*h],E=r[2*u+1],x=r[2*c+1],A=r[2*h+1],R=n[3*u],M=n[3*c],O=n[3*h],w=n[3*u+1],N=n[3*c+1],S=n[3*h+1],I=n[3*u+2],P=n[3*c+2],C=n[3*h+2],L=M-R,D=O-R,U=N-w,F=S-w,B=P-I,k=C-I,G=g-v,j=T-v,V=x-E,X=A-E,W=1/(G*X-V*j);d[0]=(X*L-V*D)*W,d[1]=(X*U-V*F)*W,d[2]=(X*B-V*k)*W,l[0]=(G*D-j*L)*W,l[1]=(G*F-j*U)*W,l[2]=(G*k-j*B)*W,y(s[u],s[u],d),y(s[c],s[c],d),y(s[h],s[h],d),y(o[u],o[u],l),y(o[c],o[c],l),y(o[h],o[h],l)}for(var H=b(),z=b(),q=b(),f=0;f<t;f++){q[0]=i[3*f],q[1]=i[3*f+1],q[2]=i[3*f+2];var Y=s[f];p.scale(H,q,p.dot(q,Y)),p.sub(H,Y,H),p.normalize(H,H),p.cross(z,q,Y),a[4*f]=H[0],a[4*f+1]=H[1],a[4*f+2]=H[2],a[4*f+3]=p.dot(z,o[f])<0?-1:1}this.dirty()}},isUniqueVertex:function(){return!this.isUseIndices()||this.vertexCount===this.indices.length},generateUniqueVertex:function(){if(this.vertexCount&&this.indices){this.indices.length>65535&&(this.indices=new h.a.Uint32Array(this.indices));for(var t=this.attributes,e=this.indices,r=this.getEnabledAttributes(),n={},a=0;a<r.length;a++){var i=r[a];n[i]=t[i].value,t[i].init(this.indices.length)}for(var s=0,o=0;o<e.length;o++){for(var f=e[o],a=0;a<r.length;a++)for(var i=r[a],u=t[i].value,c=t[i].size,d=0;d<c;d++)u[s*c+d]=n[i][f*c+d];e[o]=s,s++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var t=this.attributes,e=t.barycentric.value,r=this.indices;if(!e||e.length!==3*r.length){e=t.barycentric.value=new Float32Array(3*r.length);for(var n=0;n<(r?r.length:this.vertexCount/3);)for(var a=0;a<3;a++){var i=r?r[n++]:3*n+a;e[3*i+a]=1}this.dirty()}}},applyTransform:function(t){var e=this.attributes,r=e.position.value,n=e.normal.value,a=e.tangent.value;t=t.array;var i=m.create();m.invert(i,t),m.transpose(i,i);var s=p.transformMat4,o=p.forEach;o(r,3,0,null,s,t),n&&o(n,3,0,null,s,i),a&&o(a,4,0,null,s,i),this.boundingBox&&this.updateBoundingBox()},dispose:function(t){var e=this._cache;e.use(t.__uid__);var r=e.get("chunks");if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=0;i<a.attributeBuffers.length;i++){var s=a.attributeBuffers[i];t.gl.deleteBuffer(s.buffer)}a.indicesBuffer&&t.gl.deleteBuffer(a.indicesBuffer.buffer)}if(this.__vaoCache){var o=t.getGLExtension("OES_vertex_array_object");for(var f in this.__vaoCache){var u=this.__vaoCache[f].vao;u&&o.deleteVertexArrayOES(u)}}this.__vaoCache={},e.deleteContext(t.__uid__)}});Object.defineProperty&&(Object.defineProperty(g.prototype,"vertexCount",{enumerable:!1,get:function(){var t=this.attributes[this.mainAttribute];return t&&t.value?t.value.length/t.size:0}}),Object.defineProperty(g.prototype,"triangleCount",{enumerable:!1,get:function(){var t=this.indices;return t?t.length/3:0}})),g.STATIC_DRAW=u.a.STATIC_DRAW,g.DYNAMIC_DRAW=u.a.DYNAMIC_DRAW,g.STREAM_DRAW=u.a.STREAM_DRAW,g.AttributeBuffer=s,g.IndicesBuffer=o,g.Attribute=i,e.a=g},function(t,e,r){"use strict";var n=function(){this._contextId=0,this._caches=[],this._context={}};n.prototype={use:function(t,e){var r=this._caches;r[t]||(r[t]={},e&&(r[t]=e())),this._contextId=t,this._context=r[t]},put:function(t,e){this._context[t]=e},get:function(t){return this._context[t]},dirty:function(t){t=t||"";var e="__dt__"+t;this.put(e,!0)},dirtyAll:function(t){t=t||"";for(var e="__dt__"+t,r=this._caches,n=0;n<r.length;n++)r[n]&&(r[n][e]=!0)},fresh:function(t){t=t||"";var e="__dt__"+t;this.put(e,!1)},freshAll:function(t){t=t||"";for(var e="__dt__"+t,r=this._caches,n=0;n<r.length;n++)r[n]&&(r[n][e]=!1)},isDirty:function(t){t=t||"";var e="__dt__"+t,r=this._context;return!r.hasOwnProperty(e)||!0===r[e]},deleteContext:function(t){delete this._caches[t],this._context={}},delete:function(t){delete this._context[t]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(t,e){Object.keys(this._caches).forEach(function(r){t&&t.call(e,r)})},miss:function(t){return!this._context.hasOwnProperty(t)}},n.prototype.constructor=n,e.a=n},function(t,e,r){"use strict";var n=r(53),a=r(4),i=r(9),s=n.a.extend({skeleton:null,joints:null,useSkinMatricesTexture:!1},function(){this.joints||(this.joints=[])},{isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},getSkinMatricesTexture:function(){return this._skinMatricesTexture=this._skinMatricesTexture||new i.a({type:a.a.FLOAT,minFilter:a.a.NEAREST,magFilter:a.a.NEAREST,useMipmap:!1,flipY:!1}),this._skinMatricesTexture},clone:function(){var t=n.a.prototype.clone.call(this);return t.skeleton=this.skeleton,this.joints&&(t.joints=this.joints.slice()),t}});s.POINTS=a.a.POINTS,s.LINES=a.a.LINES,s.LINE_LOOP=a.a.LINE_LOOP,s.LINE_STRIP=a.a.LINE_STRIP,s.TRIANGLES=a.a.TRIANGLES,s.TRIANGLE_STRIP=a.a.TRIANGLE_STRIP,s.TRIANGLE_FAN=a.a.TRIANGLE_FAN,s.BACK=a.a.BACK,s.FRONT=a.a.FRONT,s.FRONT_AND_BACK=a.a.FRONT_AND_BACK,s.CW=a.a.CW,s.CCW=a.a.CCW,e.a=s},function(t,e,r){"use strict";var n=r(3),a=r(10),i=(r(55),r(4)),s=r(20),o=i.a.FRAMEBUFFER,f=i.a.RENDERBUFFER,u=i.a.DEPTH_ATTACHMENT,c=i.a.COLOR_ATTACHMENT0,h=n.a.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},function(){this._cache=new s.a,this._textures={}},{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(t){if(t.__currentFrameBuffer){if(t.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}t.__currentFrameBuffer=this;var e=t.gl;e.bindFramebuffer(o,this._getFrameBufferGL(t)),this._boundRenderer=t;var r=this._cache;r.put("viewport",t.viewport);var n,a,i=!1;for(var s in this._textures){i=!0;var c=this._textures[s];c&&(n=c.texture.width,a=c.texture.height,this._doAttach(t,c.texture,s,c.target))}this._width=n,this._height=a,!i&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?t.setViewport(this.viewport):t.setViewport(0,0,n,a,1);var h=r.get("attached_textures");if(h)for(var s in h)if(!this._textures[s]){var d=h[s];this._doDetach(e,s,d)}if(!r.get("depthtexture_attached")&&this.depthBuffer){r.miss("renderbuffer")&&r.put("renderbuffer",e.createRenderbuffer());var l=r.get("renderbuffer");n===r.get("renderbuffer_width")&&a===r.get("renderbuffer_height")||(e.bindRenderbuffer(f,l),e.renderbufferStorage(f,e.DEPTH_COMPONENT16,n,a),r.put("renderbuffer_width",n),r.put("renderbuffer_height",a),e.bindRenderbuffer(f,null)),r.get("renderbuffer_attached")||(e.framebufferRenderbuffer(o,u,f,l),r.put("renderbuffer_attached",!0))}},unbind:function(t){t.__currentFrameBuffer=null,t.gl.bindFramebuffer(o,null),this._boundRenderer=null,this._cache.use(t.__uid__);var e=this._cache.get("viewport");e&&t.setViewport(e),this.updateMipmap(t)},updateMipmap:function(t){var e=t.gl;for(var r in this._textures){var n=this._textures[r];if(n){var s=n.texture;if(!s.NPOT&&s.useMipmap&&s.minFilter===a.a.LINEAR_MIPMAP_LINEAR){var o="textureCube"===s.textureType?i.a.TEXTURE_CUBE_MAP:i.a.TEXTURE_2D;e.bindTexture(o,s.getWebGLTexture(t)),e.generateMipmap(o),e.bindTexture(o,null)}}}},checkStatus:function(t){return t.checkFramebufferStatus(o)},_getFrameBufferGL:function(t){var e=this._cache;return e.use(t.__uid__),e.miss("framebuffer")&&e.put("framebuffer",t.gl.createFramebuffer()),e.get("framebuffer")},attach:function(t,e,r){if(!t.width)throw new Error("The texture attached to color buffer is not a valid.");e=e||c,r=r||i.a.TEXTURE_2D;var n,a=this._boundRenderer,s=a&&a.gl;if(s){var o=this._cache;o.use(a.__uid__),n=o.get("attached_textures")}var f=this._textures[e];if(!f||f.target!==r||f.texture!==t||!n||null==n[e]){var u=!0;a&&(u=this._doAttach(a,t,e,r),this.viewport||a.setViewport(0,0,t.width,t.height,1)),u&&(this._textures[e]=this._textures[e]||{},this._textures[e].texture=t,this._textures[e].target=r)}},_doAttach:function(t,e,r,n){var a=t.gl,s=e.getWebGLTexture(t),c=this._cache.get("attached_textures");if(c&&c[r]){var h=c[r];if(h.texture===e&&h.target===n)return}r=+r;var d=!0;if(r===u||r===i.a.DEPTH_STENCIL_ATTACHMENT){if(t.getGLExtension("WEBGL_depth_texture")||(console.error("Depth texture is not supported by the browser"),d=!1),e.format!==i.a.DEPTH_COMPONENT&&e.format!==i.a.DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),d=!1),d){var l=this._cache.get("renderbuffer");l&&(a.framebufferRenderbuffer(o,u,f,null),a.deleteRenderbuffer(l),this._cache.put("renderbuffer",!1)),this._cache.put("renderbuffer_attached",!1),this._cache.put("depthtexture_attached",!0)}}return a.framebufferTexture2D(o,r,n,s,0),c||(c={},this._cache.put("attached_textures",c)),c[r]=c[r]||{},c[r].texture=e,c[r].target=n,d},_doDetach:function(t,e,r){t.framebufferTexture2D(o,e,r,null,0);var n=this._cache.get("attached_textures");n&&n[e]&&(n[e]=null),e!==u&&e!==i.a.DEPTH_STENCIL_ATTACHMENT||this._cache.put("depthtexture_attached",!1)},detach:function(t,e){if(this._textures[t]=null,this._boundRenderer){this._cache.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,t,e)}},dispose:function(t){var e=t.gl,r=this._cache;r.use(t.__uid__);var n=r.get("renderbuffer");n&&e.deleteRenderbuffer(n);var a=r.get("framebuffer");a&&e.deleteFramebuffer(a),r.deleteContext(t.__uid__),this._textures={}}});h.DEPTH_ATTACHMENT=u,h.COLOR_ATTACHMENT0=c,h.STENCIL_ATTACHMENT=i.a.STENCIL_ATTACHMENT,h.DEPTH_STENCIL_ATTACHMENT=i.a.DEPTH_STENCIL_ATTACHMENT,e.a=h},function(t,e,r){"use strict";var n=(r(24),r(37),r(27),r(35),r(38),r(15),r(39),r(84),r(40),r(85),r(88),r(34));r.d(e,"b",function(){return n.b});var a=(r(89),r(90),r(91),r(92));r.d(e,"a",function(){return a.a});r(93)},function(t,e,r){"use strict";var n=r(5),a=r(34),i=r(37),s=r(38),o=r(15),f=r(39),u=r(40),c=r(36);e.a=function(t,e){var r,h=typeof e;return null==e||"boolean"===h?Object(c.a)(e):("number"===h?o.a:"string"===h?(r=Object(n.a)(e))?(e=r,a.a):u.a:e instanceof n.a?a.a:e instanceof Date?s.a:Array.isArray(e)?i.a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?f.a:o.a)(t,e)}},function(t,e,r){"use strict";function n(){}function a(t){var e;return t=(t+"").trim().toLowerCase(),(e=T.exec(t))?(e=parseInt(e[1],16),new u(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=E.exec(t))?i(parseInt(e[1],16)):(e=x.exec(t))?new u(e[1],e[2],e[3],1):(e=A.exec(t))?new u(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=R.exec(t))?s(e[1],e[2],e[3],e[4]):(e=M.exec(t))?s(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=O.exec(t))?c(e[1],e[2]/100,e[3]/100,1):(e=w.exec(t))?c(e[1],e[2]/100,e[3]/100,e[4]):N.hasOwnProperty(t)?i(N[t]):"transparent"===t?new u(NaN,NaN,NaN,0):null}function i(t){return new u(t>>16&255,t>>8&255,255&t,1)}function s(t,e,r,n){return n<=0&&(t=e=r=NaN),new u(t,e,r,n)}function o(t){return t instanceof n||(t=a(t)),t?(t=t.rgb(),new u(t.r,t.g,t.b,t.opacity)):new u}function f(t,e,r,n){return 1===arguments.length?o(t):new u(t,e,r,null==n?1:n)}function u(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function c(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new l(t,e,r,n)}function h(t){if(t instanceof l)return new l(t.h,t.s,t.l,t.opacity);if(t instanceof n||(t=a(t)),!t)return new l;if(t instanceof l)return t;t=t.rgb();var e=t.r/255,r=t.g/255,i=t.b/255,s=Math.min(e,r,i),o=Math.max(e,r,i),f=NaN,u=o-s,c=(o+s)/2;return u?(f=e===o?(r-i)/u+6*(r<i):r===o?(i-e)/u+2:(e-r)/u+4,u/=c<.5?o+s:2-o-s,f*=60):u=c>0&&c<1?0:f,new l(f,u,c,t.opacity)}function d(t,e,r,n){return 1===arguments.length?h(t):new l(t,e,r,null==n?1:n)}function l(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function _(t,e,r){return 255*(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)}e.a=n,r.d(e,"d",function(){return m}),r.d(e,"c",function(){return b}),e.e=a,e.h=o,e.g=f,e.b=u,e.f=d;var p=r(26),m=.7,b=1/m,y="\\s*([+-]?\\d+)\\s*",v="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",g="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T=/^#([0-9a-f]{3})$/,E=/^#([0-9a-f]{6})$/,x=new RegExp("^rgb\\("+[y,y,y]+"\\)$"),A=new RegExp("^rgb\\("+[g,g,g]+"\\)$"),R=new RegExp("^rgba\\("+[y,y,y,v]+"\\)$"),M=new RegExp("^rgba\\("+[g,g,g,v]+"\\)$"),O=new RegExp("^hsl\\("+[v,g,g]+"\\)$"),w=new RegExp("^hsla\\("+[v,g,g,v]+"\\)$"),N={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(p.a)(n,a,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(p.a)(u,f,Object(p.b)(n,{brighter:function(t){return t=null==t?b:Math.pow(b,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?m:Math.pow(m,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Object(p.a)(l,d,Object(p.b)(n,{brighter:function(t){return t=null==t?b:Math.pow(b,t),new l(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?m:Math.pow(m,t),new l(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new u(_(t>=240?t-240:t+120,a,n),_(t,a,n),_(t<120?t+240:t-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,e,r){"use strict";function n(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}e.b=n,e.a=function(t,e,r){t.prototype=e.prototype=r,r.constructor=t}},function(t,e,r){"use strict";function n(t,e,r,n,a){var i=t*t,s=i*t;return((1-3*t+3*i-s)*e+(4-6*i+3*s)*r+(1+3*t+3*i-3*s)*n+s*a)/6}e.a=n,e.b=function(t){var e=t.length-1;return function(r){var a=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),i=t[a],s=t[a+1],o=a>0?t[a-1]:2*i-s,f=a<e-1?t[a+2]:2*s-i;return n((r-a/e)*e,o,i,s,f)}}},function(t,e,r){"use strict";var n=r(3),a=r(16),i=r(18),s=r(8),o=r(14),f=r(21),u=r(4),c=r(54);s.a.import(c.a);var h=new i.a,d=new f.a({geometry:h,frustumCulling:!1}),l=new a.a,_=n.a.extend(function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}},function(){var t=new s.a(s.a.source("clay.compositor.vertex"),this.fragment),e=new o.a({shader:t});e.enableTexturesAll(),this.material=e},{setUniform:function(t,e){this.material.setUniform(t,e)},getUniform:function(t){var e=this.material.uniforms[t];if(e)return e.value},attachOutput:function(t,e){this.outputs||(this.outputs={}),e=e||u.a.COLOR_ATTACHMENT0,this.outputs[e]=t},detachOutput:function(t){for(var e in this.outputs)this.outputs[e]===t&&(this.outputs[e]=null)},bind:function(t,e){if(this.outputs)for(var r in this.outputs){var n=this.outputs[r];n&&e.attach(n,r)}e&&e.bind(t)},unbind:function(t,e){e.unbind(t)},render:function(t,e){var r=t.gl;if(e){this.bind(t,e);var n=t.getGLExtension("EXT_draw_buffers");if(n&&this.outputs){var a=[];for(var i in this.outputs)(i=+i)>=r.COLOR_ATTACHMENT0&&i<=r.COLOR_ATTACHMENT0+8&&a.push(i);n.drawBuffersEXT(a)}}this.trigger("beforerender",this,t);var s=this.clearDepth?r.DEPTH_BUFFER_BIT:0;if(r.depthMask(!0),this.clearColor){s|=r.COLOR_BUFFER_BIT,r.colorMask(!0,!0,!0,!0);var o=this.clearColor;Array.isArray(o)&&r.clearColor(o[0],o[1],o[2],o[3])}r.clear(s),this.blendWithPrevious?(r.enable(r.BLEND),this.material.transparent=!0):(r.disable(r.BLEND),this.material.transparent=!1),this.renderQuad(t),this.trigger("afterrender",this,t),e&&this.unbind(t,e)},renderQuad:function(t){d.material=this.material,t.renderPass([d],l)},dispose:function(t){}});e.a=_},function(t,e,r){"use strict";var n=r(3),a=r(6),i=r(46),s=r(17),o=r(2),f=r.n(o),u=r(7),c=f.a.mat4,h=0,d=n.a.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},function(){this.name||(this.name=(this.type||"NODE")+"_"+h++),this.position||(this.position=new a.a),this.rotation||(this.rotation=new i.a),this.scale||(this.scale=new a.a(1,1,1)),this.worldTransform=new s.a,this.localTransform=new s.a,this._children=[]},{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(t){var e=this._scene;if(e){var r=e._nodeRepository;delete r[this.name],r[t]=this}this.name=t},add:function(t){var e=t._parent;if(e!==this){e&&e.remove(t),t._parent=this,this._children.push(t);var r=this._scene;r&&r!==t.scene&&t.traverse(this._addSelfToScene,this),t._needsUpdateWorldTransform=!0}},remove:function(t){var e=this._children,r=e.indexOf(t);r<0||(e.splice(r,1),t._parent=null,this._scene&&t.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var t=this._children,e=0;e<t.length;e++)t[e]._parent=null,this._scene&&t[e].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(t){t._scene.removeFromScene(t),t._scene=null},_addSelfToScene:function(t){this._scene.addToScene(t),t._scene=this._scene},isAncestor:function(t){for(var e=t._parent;e;){if(e===this)return!0;e=e._parent}return!1},children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},getChildByName:function(t){for(var e=this._children,r=0;r<e.length;r++)if(e[r].name===t)return e[r]},getDescendantByName:function(t){for(var e=this._children,r=0;r<e.length;r++){var n=e[r];if(n.name===t)return n;var a=n.getDescendantByName(t);if(a)return a}},queryNode:function(t){if(t){for(var e=t.split("/"),r=this,n=0;n<e.length;n++){var a=e[n];if(a){for(var i=!1,s=r._children,o=0;o<s.length;o++){var f=s[o];if(f.name===a){r=f,i=!0;break}}if(!i)return}}return r}},getPath:function(t){if(!this._parent)return"/";for(var e=this._parent,r=this.name;e._parent&&(r=e.name+"/"+r,e._parent!=t);)e=e._parent;return!e._parent&&t?null:r},traverse:function(t,e){t.call(e,this);for(var r=this._children,n=0,a=r.length;n<a;n++)r[n].traverse(t,e)},eachChild:function(t,e){for(var r=this._children,n=0,a=r.length;n<a;n++){var i=r[n];t.call(e,i,n)}},setLocalTransform:function(t){c.copy(this.localTransform.array,t.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(t){var e=t?null:this.scale;this.localTransform.decomposeMatrix(e,this.rotation,this.position)},setWorldTransform:function(t){c.copy(this.worldTransform.array,t.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var t=c.create();return function(e){var r=this.localTransform,n=this.worldTransform;this._parent?(c.invert(t,this._parent.worldTransform.array),c.multiply(r.array,t,n.array)):c.copy(r.array,n.array);var a=e?null:this.scale;r.decomposeMatrix(a,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var t=this.position,e=this.rotation,r=this.scale;if(this.transformNeedsUpdate()){var n=this.localTransform.array;c.fromRotationTranslation(n,e.array,t.array),c.scale(n,n,r.array),e._dirty=!1,r._dirty=!1,t._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var t=this.localTransform.array,e=this.worldTransform.array;this._parent?c.multiplyAffine(e,this._parent.worldTransform.array,t):c.copy(e,t)},updateWorldTransform:function(){for(var t=this;t&&t.getParent()&&t.getParent().transformNeedsUpdate();)t=t.getParent();t.update()},update:function(t){this.autoUpdateLocalTransform?this.updateLocalTransform():t=!0,(t||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),t=!0,this._needsUpdateWorldTransform=!1);for(var e=this._children,r=0,n=e.length;r<n;r++)e[r].update(t)},getBoundingBox:function(){function t(t){return!t.invisible&&t.geometry}var e=new u.a,r=new s.a,n=new s.a;return function(a,i){return i=i||new u.a,a=a||t,this._parent?s.a.invert(n,this._parent.worldTransform):s.a.identity(n),this.traverse(function(t){t.geometry&&t.geometry.boundingBox&&(e.copy(t.geometry.boundingBox),s.a.multiply(r,n,t.worldTransform),e.applyTransform(r),i.union(e))},this,t),i}}(),getWorldPosition:function(t){this.transformNeedsUpdate()&&this.updateWorldTransform();var e=this.worldTransform.array;if(t){var r=t.array;return r[0]=e[12],r[1]=e[13],r[2]=e[14],t}return new a.a(e[12],e[13],e[14])},clone:function(){var t=new this.constructor,e=this._children;t.setName(this.name),t.position.copy(this.position),t.rotation.copy(this.rotation),t.scale.copy(this.scale);for(var r=0;r<e.length;r++)t.add(e[r].clone());return t},rotateAround:function(){var t=new a.a,e=new s.a;return function(r,n,a){t.copy(this.position).subtract(r);var i=this.localTransform;i.identity(),i.translate(r),i.rotate(a,n),e.fromRotationTranslation(this.rotation,t),i.multiply(e),i.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var t=new s.a;return function(e,r){t.lookAt(this.position,e,r||this.localTransform.y).invert(),this.setLocalTransform(t),this.target=e}}()});e.a=d},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n={};n.isPowerOfTwo=function(t){return 0==(t&t-1)},n.nextPowerOfTwo=function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t},n.nearestPowerOfTwo=function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},e.a=n},function(t,e,r){"use strict";var n={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),-r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-n.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5}};e.a=n},function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"b",function(){return a});var n=Math.PI/180,a=180/Math.PI},function(t,e,r){"use strict";function n(t){return function(e){var r,n,i=e.length,s=new Array(i),o=new Array(i),f=new Array(i);for(r=0;r<i;++r)n=Object(a.f)(e[r]),s[r]=n.r||0,o[r]=n.g||0,f[r]=n.b||0;return s=t(s),o=t(o),f=t(f),n.opacity=1,function(t){return n.r=s(t),n.g=o(t),n.b=f(t),n+""}}}r.d(e,"b",function(){return f});var a=r(5),i=r(27),s=r(35),o=r(11);e.a=function t(e){function r(t,e){var r=n((t=Object(a.f)(t)).r,(e=Object(a.f)(e)).r),i=n(t.g,e.g),s=n(t.b,e.b),f=Object(o.a)(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=s(e),t.opacity=f(e),t+""}}var n=Object(o.b)(e);return r.gamma=t,r}(1);var f=n(i.b);n(s.a)},function(t,e,r){"use strict";var n=r(27);e.a=function(t){var e=t.length;return function(r){var a=Math.floor(((r%=1)<0?++r:r)*e),i=t[(a+e-1)%e],s=t[a%e],o=t[(a+1)%e],f=t[(a+2)%e];return Object(n.a)((r-a/e)*e,i,s,o,f)}}},function(t,e,r){"use strict";e.a=function(t){return function(){return t}}},function(t,e,r){"use strict";var n=r(24);e.a=function(t,e){var r,a=e?e.length:0,i=t?Math.min(a,t.length):0,s=new Array(i),o=new Array(a);for(r=0;r<i;++r)s[r]=Object(n.a)(t[r],e[r]);for(;r<a;++r)o[r]=e[r];return function(t){for(r=0;r<i;++r)o[r]=s[r](t);return o}}},function(t,e,r){"use strict";e.a=function(t,e){var r=new Date;return t=+t,e-=t,function(n){return r.setTime(t+e*n),r}}},function(t,e,r){"use strict";var n=r(24);e.a=function(t,e){var r,a={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(r in e)r in t?a[r]=Object(n.a)(t[r],e[r]):i[r]=e[r];return function(t){for(r in a)i[r]=a[r](t);return i}}},function(t,e,r){"use strict";function n(t){return function(){return t}}function a(t){return function(e){return t(e)+""}}var i=r(15),s=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(s.source,"g");e.a=function(t,e){var r,f,u,c=s.lastIndex=o.lastIndex=0,h=-1,d=[],l=[];for(t+="",e+="";(r=s.exec(t))&&(f=o.exec(e));)(u=f.index)>c&&(u=e.slice(c,u),d[h]?d[h]+=u:d[++h]=u),(r=r[0])===(f=f[0])?d[h]?d[h]+=f:d[++h]=f:(d[++h]=null,l.push({i:h,x:Object(i.a)(r,f)})),c=o.lastIndex;return c<e.length&&(u=e.slice(c),d[h]?d[h]+=u:d[++h]=u),d.length<2?l[0]?a(l[0].x):n(e):(e=l.length,function(t){for(var r,n=0;n<e;++n)d[(r=l[n]).i]=r.x(t);return d.join("")})}},function(t,e,r){"use strict";function n(){return new y.a({shader:w,transparent:!0,depthMask:!1,depthTest:!1})}function a(){B.bind(E),B.attach(O),E.renderPass([C,L,D],R),B.unbind(E);var t=M;M=O,O=t}function i(){U=0,I.clearFrame(E),F=0}function s(t){t=Math.min(t,50),F>1e3&&(I.generateSpawnTexture(128,128),I.particleSpeedScaling=A.particleSpeed*(Math.random()+.2),I.colorOffset=Math.random(),a(),i(),k++),I.update(E,t,U),D.material.set("texture",I.getSurfaceTexture()),P.update(E,I.getSurfaceTexture()),L.material.set("texture",P.getSurfaceTexture()),C.material.set("texture",M),U++,R.update(!0),E.renderPass([C,L,D],R),F+=t}function o(){i();var t=document.body.clientWidth,e=document.body.clientHeight;E.resize(t,e),I.resize(t,e);var r=E.getDevicePixelRatio();M.width=t*r,M.height=e*r,O.width=t*r,O.height=e*r}Object.defineProperty(e,"__esModule",{value:!0});var f=r(42),u=r(58),c=r(59),h=(r.n(c),r(60)),d=r(63),l=r(9),_=(r(10),r(16)),p=r(8),m=r(18),b=r(21),y=r(14),v=r(22),g=r(71),T=["BrBG","PRGn","PiYG","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral","Viridis","Inferno","Magma","Plasma","Warm","Cool","Rainbow","YlGnBu","RdPu","PuRd","Rainbow"].map(function(t){return"interpolate"+t}),E=new d.a({canvas:document.getElementById("main")}),x=new h.a;x.start();var A={seed:Math.random(),scale:1,particleType:"line",supersampling:4,particleSize:2,particleDensity:128,particleSpeed:1},R=new _.a,M=new l.a,O=new l.a,w=new p.a(p.a.source("clay.compositor.vertex"),p.a.source("stream.output")),N=new m.a,S=new l.a({image:function(){var t=document.createElement("canvas");t.width=32,t.height=6;for(var e=t.getContext("2d"),r=e.createLinearGradient(0,t.height/2,t.width,t.height/2),n=[],a=g[T[Math.round(Math.random()*(T.length-1))]],i=0;i<10;i++)n.push(a(i/9));for(var i=0;i<n.length;i++)r.addColorStop(i/(n.length-1),n[i]);return e.fillStyle=r,e.fillRect(0,0,t.width,t.height),t}()}),I=new f.a,P=new u.a;I.setSupersampling(A.supersampling),I.setParticleType(A.particleType),I.setParticleSize(A.particleSize),I.particleSpeedScaling=A.particleSpeed,I.particleLife=5,I.setParticleDensity(A.particleDensity,A.particleDensity),I.setGradientTexture(S),I.generateSpawnTexture(128,128);var C=new b.a({material:n(),geometry:N});C.material.transparent=!1;var L=new b.a({material:n(),geometry:N}),D=new b.a({material:n(),geometry:N}),U=0,F=0,B=new v.a({depthBuffer:!1}),k=0;x.on("frame",s),o(),window.addEventListener("resize",o);var G=document.getElementById("loading");G.parentNode.removeChild(G)},function(t,e,r){"use strict";function n(t){var e=document.createElement("canvas");e.width=e.height=t;var r=e.getContext("2d");return r.fillStyle="#fff",r.arc(t/2,t/2,t/2,0,2*Math.PI),r.fill(),e}var a=r(28),i=r(19),s=r(21),o=r(14),f=r(8),u=r(9),c=r(10),h=r(16),d=r(18),l=r(22),_=r(56),p=r(57),m=r.n(p);f.a.import(m.a);var b=function(){this.motionBlurFactor=1,this.noiseTexture=new u.a({type:c.a.FLOAT,flipY:!1}),this.particleLife=3,this.colorOffset=0,this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this.particleForceScaling=1,this._thisFrameTexture=null,this._noisePass=null,this.spawnTexture=null,this._posTexture0=null,this._posTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};b.prototype={constructor:b,init:function(){var t={type:c.a.HALF_FLOAT,minFilter:c.a.NEAREST,magFilter:c.a.NEAREST,useMipmap:!1};this.spawnTexture=new u.a(t),this.spawnTexture.type=c.a.FLOAT,this.noiseTexture=new u.a(t),this.noiseTexture.width=256,this.noiseTexture.height=256,this.noiseTexture.wrapS=c.a.CLAMP_TO_EDGE,this.noiseTexture.wrapT=c.a.CLAMP_TO_EDGE,this._posTexture0=new u.a(t),this._posTexture1=new u.a(t),this._frameBuffer=new l.a({depthBuffer:!1}),this._noisePass=new a.a({fragment:f.a.source("stream.noise")}),this._particlePass=new a.a({fragment:f.a.source("stream.updateParticle")}),this._downsamplePass=new a.a({fragment:f.a.source("stream.downsample")}),this._noisePass.setUniform("region",[.25,.25,.5,.5]),this._particlePass.setUniform("region",[.25,.25,.5,.5]);var e=new s.a({renderOrder:10,material:new o.a({shader:new f.a(f.a.source("stream.renderPoints.vertex"),f.a.source("stream.renderPoints.fragment"))}),mode:s.a.POINTS,geometry:new i.a({dynamic:!0,mainAttribute:"texcoord0"})}),r=new s.a({renderOrder:10,material:new o.a({shader:new f.a(f.a.source("stream.renderLines.vertex"),f.a.source("stream.renderLines.fragment"))}),geometry:new _.a,culling:!1}),n=new f.a(f.a.source("clay.compositor.vertex"),f.a.source("stream.output")),p=new s.a({material:new o.a({shader:n}),geometry:new d.a});this._particlePointsMesh=e,this._particleLinesMesh=r,this._lastFrameFullQuadMesh=p,this._camera=new h.a,this._thisFrameTexture=new u.a,this._lastFrameTexture=new u.a},setParticleDensity:function(t,e){"line"===this._particleType?this._setLineGeometry(t,e):this._setPointsGeometry(t,e),this._posTexture0.width=this._posTexture1.width=t,this._posTexture0.height=this._posTexture1.height=e,this._noisePass.setUniform("textureSize",[t,e])},generateSpawnTexture:function(t,e){var r=t*e,n=new Float32Array(4*r),a=0,i=this.particleLife;"number"==typeof i&&(i=[i,i]);for(var s=[],o=0;o<4;o++)s.push([Math.random(),Math.random()]);for(var f=0,o=0;o<t;o++)for(var u=0;u<e;u++,a++){var c=s[f++%4],h=Math.random()*Math.PI*2,d=.1*Math.random();n[4*a]=c[0]+Math.cos(h)*d,n[4*a+1]=c[1]+Math.sin(h)*d,n[4*a+2]=0;var l=(i[1]-i[0])*Math.random()+i[0];n[4*a+3]=l}var _=this.spawnTexture;_.width=t,_.height=e,_.pixels=n,_.dirty()},_setPointsGeometry:function(t,e){var r=t*e,n=this._particlePointsMesh.geometry,a=n.attributes;a.texcoord0.init(r);for(var i=0,s=0;s<t;s++)for(var o=0;o<e;o++,i++)a.texcoord0.value[2*i]=s/t,a.texcoord0.value[2*i+1]=o/e;n.dirty()},_setLineGeometry:function(t,e){var r=t*e,n=this._getParticleMesh().geometry;n.setLineCount(r),n.resetOffset();for(var a=0;a<t;a++)for(var i=0;i<e;i++)n.addLine([a/t,i/e]);n.dirty()},_getParticleMesh:function(){return"line"===this._particleType?this._particleLinesMesh:this._particlePointsMesh},update:function(t,e,r){e/=1e3;var n=this._getParticleMesh(),a=this._frameBuffer,i=this._noisePass,s=this._particlePass,o=0===r;o&&this._updateDownsampleTextures(t),a.bind(t),this.noiseTexture.pixels||(a.attach(this.noiseTexture),i.render(t)),a.attach(this._posTexture1),s.setUniform("speedScaling",this.particleSpeedScaling),s.setUniform("posTexture",this._posTexture0),s.setUniform("noiseTexture",this.noiseTexture),s.setUniform("spawnTexture",this.spawnTexture),s.setUniform("deltaTime",e),s.setUniform("firstFrame",o),s.setUniform("noiseTextureSize",this.noiseTexture.width),s.render(t),a.attach(this._thisFrameTexture),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT),this._camera.update(!0);var f=this._lastFrameFullQuadMesh;f.material.set("texture",this._lastFrameTexture),f.material.set("color",[1,1,1,this.motionBlurFactor]),n.material.set("size",this._particleSize*this._supersampling),n.material.set("color",this.particleColor),n.material.set("colorOffset",this.colorOffset),n.material.set("posTexture",this._posTexture1),n.material.set("prevPosTexture",this._posTexture0),t.renderPass([f,n],this._camera),a.unbind(t),this._downsample(t),this._swapTexture(),this._elapsedTime+=e},_downsample:function(t){var e=this._downsampleTextures;if(0!==e.length)for(var r=0,n=this._thisFrameTexture,a=e[r];a;)this._frameBuffer.attach(a),this._downsamplePass.setUniform("texture",n),this._downsamplePass.setUniform("textureSize",[n.width,n.height]),this._downsamplePass.render(t,this._frameBuffer),n=a,a=e[++r]},getSurfaceTexture:function(){var t=this._downsampleTextures;return t.length>0?t[t.length-1]:this._lastFrameTexture},setRegion:function(t){this._noisePass.setUniform("region",t)},resize:function(t,e){this._lastFrameTexture.width=t*this._supersampling,this._lastFrameTexture.height=e*this._supersampling,this._thisFrameTexture.width=t*this._supersampling,this._thisFrameTexture.height=e*this._supersampling,this._width=t,this._height=e},setParticleSize:function(t){var e=this._getParticleMesh();if(t<=2)return e.material.disableTexture("spriteTexture"),void(e.material.transparent=!1);this._spriteTexture||(this._spriteTexture=new u.a),this._spriteTexture.image&&this._spriteTexture.image.width===t||(this._spriteTexture.image=n(t),this._spriteTexture.dirty()),e.material.transparent=!0,e.material.enableTexture("spriteTexture"),e.material.set("spriteTexture",this._spriteTexture),this._particleSize=t},setParticleType:function(t){this._particleType=t},setGradientTexture:function(t){this._getParticleMesh().material.setUniform("gradientTexture",t)},clearFrame:function(t){var e=this._frameBuffer;e.attach(this._lastFrameTexture),e.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT),e.unbind(t)},setSupersampling:function(t){this._supersampling=t,this.resize(this._width,this._height)},_updateDownsampleTextures:function(t){for(var e=this._downsampleTextures,r=Math.max(Math.floor(Math.log(this._supersampling/t.getDevicePixelRatio())/Math.log(2)),0),n=2,a=this._width*this._supersampling,i=this._height*this._supersampling,s=0;s<r;s++)e[s]=e[s]||new u.a,e[s].width=a/n,e[s].height=i/n,n*=2;for(;s<e.length;s++)e[s].dispose(t);e.length=r},_swapTexture:function(){var t=this._posTexture0;this._posTexture0=this._posTexture1,this._posTexture1=t;var t=this._thisFrameTexture;this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=t},dispose:function(t){t.disposeFrameBuffer(this._frameBuffer),t.disposeTexture(this.forceFieldTexture),t.disposeTexture(this.spawnTexture),t.disposeTexture(this._posTexture0),t.disposeTexture(this._posTexture1),t.disposeTexture(this._thisFrameTexture),t.disposeTexture(this._lastFrameTexture),t.disposeGeometry(this._particleLinesMesh.geometry),t.disposeGeometry(this._particlePointsMesh.geometry),t.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&t.disposeTexture(this._spriteTexture),this._downsamplePass.dispose(t),this._downsampleTextures.forEach(function(e){e.dispose(t)})}},e.a=b},function(t,e,r){"use strict";function n(t,e,r){"object"==typeof e&&(r=e,e=null);var n,s=this;if(!(t instanceof Function)){n=[];for(var o in t)t.hasOwnProperty(o)&&n.push(o)}var f=function(e){if(s.apply(this,arguments),t instanceof Function?a(this,t.call(this,e)):i(this,t,n),this.constructor===f)for(var r=f.__initializers__,o=0;o<r.length;o++)r[o].apply(this,arguments)};f.__super__=s,s.__initializers__?f.__initializers__=s.__initializers__.slice():f.__initializers__=[],e&&f.__initializers__.push(e);var u=function(){};return u.prototype=s.prototype,f.prototype=new u,f.prototype.constructor=f,a(f.prototype,r),f.extend=s.extend,f.derive=s.extend,f}function a(t,e){if(e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}function i(t,e,r){for(var n=0;n<r.length;n++){var a=r[n];t[a]=e[a]}}e.a={extend:n,derive:n}},function(t,e,r){"use strict";function n(t,e){this.action=t,this.context=e}var a={trigger:function(t){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(t)){var e=this.__handlers__[t],r=e.length,n=-1,a=arguments;switch(a.length){case 1:for(;++n<r;)e[n].action.call(e[n].context);return;case 2:for(;++n<r;)e[n].action.call(e[n].context,a[1]);return;case 3:for(;++n<r;)e[n].action.call(e[n].context,a[1],a[2]);return;case 4:for(;++n<r;)e[n].action.call(e[n].context,a[1],a[2],a[3]);return;case 5:for(;++n<r;)e[n].action.call(e[n].context,a[1],a[2],a[3],a[4]);return;default:for(;++n<r;)e[n].action.apply(e[n].context,Array.prototype.slice.call(a,1));return}}},on:function(t,e,r){if(t&&e){var a=this.__handlers__||(this.__handlers__={});if(a[t]){if(this.has(t,e))return}else a[t]=[];var i=new n(e,r||this);return a[t].push(i),this}},once:function(t,e,r){function n(){a.off(t,n),e.apply(this,arguments)}if(t&&e){var a=this;return this.on(t,n,r)}},before:function(t,e,r){if(t&&e)return t="before"+t,this.on(t,e,r)},after:function(t,e,r){if(t&&e)return t="after"+t,this.on(t,e,r)},success:function(t,e){return this.once("success",t,e)},error:function(t,e){return this.once("error",t,e)},off:function(t,e){var r=this.__handlers__||(this.__handlers__={});if(!e)return void(r[t]=[]);if(r[t]){for(var n=r[t],a=[],i=0;i<n.length;i++)e&&n[i].action!==e&&a.push(n[i]);r[t]=a}return this},has:function(t,e){var r=this.__handlers__;if(!r||!r[t])return!1;for(var n=r[t],a=0;a<n.length;a++)if(n[a].action===e)return!0}};e.a=a},function(t,e,r){"use strict";var n=r(29),a=r(17),i=r(47),s=r(49),o=r(2),f=r.n(o),u=f.a.vec3,c=f.a.vec4,h=n.a.extend(function(){return{projectionMatrix:new a.a,invProjectionMatrix:new a.a,viewMatrix:new a.a,frustum:new i.a}},function(){this.update(!0)},{update:function(t){n.a.prototype.update.call(this,t),a.a.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),a.a.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(t){a.a.copy(this.viewMatrix,t),a.a.invert(this.worldTransform,t),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(t){a.a.copy(this.projectionMatrix,t),a.a.invert(this.invProjectionMatrix,t),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var t=c.create();return function(e,r){var n=void 0!==r?r:new s.a,a=e.array[0],i=e.array[1];return c.set(t,a,i,-1,1),c.transformMat4(t,t,this.invProjectionMatrix.array),c.transformMat4(t,t,this.worldTransform.array),u.scale(n.origin.array,t,1/t[3]),c.set(t,a,i,1,1),c.transformMat4(t,t,this.invProjectionMatrix.array),c.transformMat4(t,t,this.worldTransform.array),u.scale(t,t,1/t[3]),u.sub(n.direction.array,t,n.origin.array),u.normalize(n.direction.array,n.direction.array),n.direction._dirty=!0,n.origin._dirty=!0,n}}()});e.a=h},function(t,e,r){"use strict";var n=r(2),a=r.n(n),i=a.a.quat,s=function(t,e,r,n){t=t||0,e=e||0,r=r||0,n=void 0===n?1:n,this.array=i.fromValues(t,e,r,n),this._dirty=!0};s.prototype={constructor:s,add:function(t){return i.add(this.array,this.array,t.array),this._dirty=!0,this},calculateW:function(){return i.calculateW(this.array,this.array),this._dirty=!0,this},set:function(t,e,r,n){return this.array[0]=t,this.array[1]=e,this.array[2]=r,this.array[3]=n,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this.array[3]=t[3],this._dirty=!0,this},clone:function(){return new s(this.x,this.y,this.z,this.w)},conjugate:function(){return i.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(t){return i.copy(this.array,t.array),this._dirty=!0,this},dot:function(t){return i.dot(this.array,t.array)},fromMat3:function(t){return i.fromMat3(this.array,t.array),this._dirty=!0,this},fromMat4:function(){var t=a.a.mat3,e=t.create();return function(r){return t.fromMat4(e,r.array),t.transpose(e,e),i.fromMat3(this.array,e),this._dirty=!0,this}}(),identity:function(){return i.identity(this.array),this._dirty=!0,this},invert:function(){return i.invert(this.array,this.array),this._dirty=!0,this},len:function(){return i.len(this.array)},length:function(){return i.length(this.array)},lerp:function(t,e,r){return i.lerp(this.array,t.array,e.array,r),this._dirty=!0,this},mul:function(t){return i.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return i.multiply(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return i.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return i.multiply(this.array,t.array,this.array),this._dirty=!0,this},normalize:function(){return i.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(t){return i.rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return i.rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return i.rotateZ(this.array,this.array,t),this._dirty=!0,this},rotationTo:function(t,e){return i.rotationTo(this.array,t.array,e.array),this._dirty=!0,this},setAxes:function(t,e,r){return i.setAxes(this.array,t.array,e.array,r.array),this._dirty=!0,this},setAxisAngle:function(t,e){return i.setAxisAngle(this.array,t.array,e),this._dirty=!0,this},slerp:function(t,e,r){return i.slerp(this.array,t.array,e.array,r),this._dirty=!0,this},sqrLen:function(){return i.sqrLen(this.array)},squaredLength:function(){return i.squaredLength(this.array)},fromEuler:function(t,e){return s.fromEuler(this,t,e)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var o=Object.defineProperty;if(o){var f=s.prototype;o(f,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),o(f,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),o(f,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}}),o(f,"w",{get:function(){return this.array[3]},set:function(t){this.array[3]=t,this._dirty=!0}})}s.add=function(t,e,r){return i.add(t.array,e.array,r.array),t._dirty=!0,t},s.set=function(t,e,r,n,a){i.set(t.array,e,r,n,a),t._dirty=!0},s.copy=function(t,e){return i.copy(t.array,e.array),t._dirty=!0,t},s.calculateW=function(t,e){return i.calculateW(t.array,e.array),t._dirty=!0,t},s.conjugate=function(t,e){return i.conjugate(t.array,e.array),t._dirty=!0,t},s.identity=function(t){return i.identity(t.array),t._dirty=!0,t},s.invert=function(t,e){return i.invert(t.array,e.array),t._dirty=!0,t},s.dot=function(t,e){return i.dot(t.array,e.array)},s.len=function(t){return i.length(t.array)},s.lerp=function(t,e,r,n){return i.lerp(t.array,e.array,r.array,n),t._dirty=!0,t},s.slerp=function(t,e,r,n){return i.slerp(t.array,e.array,r.array,n),t._dirty=!0,t},s.mul=function(t,e,r){return i.multiply(t.array,e.array,r.array),t._dirty=!0,t},s.multiply=s.mul,s.rotateX=function(t,e,r){return i.rotateX(t.array,e.array,r),t._dirty=!0,t},s.rotateY=function(t,e,r){return i.rotateY(t.array,e.array,r),t._dirty=!0,t},s.rotateZ=function(t,e,r){return i.rotateZ(t.array,e.array,r),t._dirty=!0,t},s.setAxisAngle=function(t,e,r){return i.setAxisAngle(t.array,e.array,r),t._dirty=!0,t},s.normalize=function(t,e){return i.normalize(t.array,e.array),t._dirty=!0,t},s.sqrLen=function(t){return i.sqrLen(t.array)},s.squaredLength=s.sqrLen,s.fromMat3=function(t,e){return i.fromMat3(t.array,e.array),t._dirty=!0,t},s.setAxes=function(t,e,r,n){return i.setAxes(t.array,e.array,r.array,n.array),t._dirty=!0,t},s.rotationTo=function(t,e,r){return i.rotationTo(t.array,e.array,r.array),t._dirty=!0,t},s.fromEuler=function(t,e,r){t._dirty=!0,e=e.array;var n=t.array,a=Math.cos(e[0]/2),i=Math.cos(e[1]/2),s=Math.cos(e[2]/2),o=Math.sin(e[0]/2),f=Math.sin(e[1]/2),u=Math.sin(e[2]/2),r=(r||"XYZ").toUpperCase();switch(r){case"XYZ":n[0]=o*i*s+a*f*u,n[1]=a*f*s-o*i*u,n[2]=a*i*u+o*f*s,n[3]=a*i*s-o*f*u;break;case"YXZ":n[0]=o*i*s+a*f*u,n[1]=a*f*s-o*i*u,n[2]=a*i*u-o*f*s,n[3]=a*i*s+o*f*u;break;case"ZXY":n[0]=o*i*s-a*f*u,n[1]=a*f*s+o*i*u,n[2]=a*i*u+o*f*s,n[3]=a*i*s-o*f*u;break;case"ZYX":n[0]=o*i*s-a*f*u,n[1]=a*f*s+o*i*u,n[2]=a*i*u-o*f*s,n[3]=a*i*s+o*f*u;break;case"YZX":n[0]=o*i*s+a*f*u,n[1]=a*f*s+o*i*u,n[2]=a*i*u-o*f*s,n[3]=a*i*s-o*f*u;break;case"XZY":n[0]=o*i*s-a*f*u,n[1]=a*f*s-o*i*u,n[2]=a*i*u+o*f*s,n[3]=a*i*s+o*f*u}},e.a=s},function(t,e,r){"use strict";var n=(r(6),r(7)),a=r(48),i=r(2),s=r.n(i),o=s.a.vec3,f=o.set,u=o.copy,c=o.transformMat4,h=Math.min,d=Math.max,l=function(){this.planes=[];for(var t=0;t<6;t++)this.planes.push(new a.a);this.boundingBox=new n.a,this.vertices=[];for(var t=0;t<8;t++)this.vertices[t]=o.fromValues(0,0,0)};l.prototype={setFromProjection:function(t){var e=this.planes,r=t.array,n=r[0],a=r[1],i=r[2],s=r[3],o=r[4],u=r[5],c=r[6],h=r[7],d=r[8],l=r[9],_=r[10],p=r[11],m=r[12],b=r[13],y=r[14],v=r[15];f(e[0].normal.array,s-n,h-o,p-d),e[0].distance=-(v-m),e[0].normalize(),f(e[1].normal.array,s+n,h+o,p+d),e[1].distance=-(v+m),e[1].normalize(),f(e[2].normal.array,s+a,h+u,p+l),e[2].distance=-(v+b),e[2].normalize(),f(e[3].normal.array,s-a,h-u,p-l),e[3].distance=-(v-b),e[3].normalize(),f(e[4].normal.array,s-i,h-c,p-_),e[4].distance=-(v-y),e[4].normalize(),f(e[5].normal.array,s+i,h+c,p+_),e[5].distance=-(v+y),e[5].normalize();var g=this.boundingBox,T=this.vertices;if(0===v){var E=u/n,x=-y/(_-1),A=-y/(_+1),R=-A/u,M=-x/u;g.min.set(-R*E,-R,A),g.max.set(R*E,R,x),f(T[0],-R*E,-R,A),f(T[1],-R*E,R,A),f(T[2],R*E,-R,A),f(T[3],R*E,R,A),f(T[4],-M*E,-M,x),f(T[5],-M*E,M,x),f(T[6],M*E,-M,x),f(T[7],M*E,M,x)}else{var O=(-1-m)/n,w=(1-m)/n,N=(1-b)/u,S=(-1-b)/u,I=(-1-y)/_,P=(1-y)/_;g.min.set(Math.min(O,w),Math.min(S,N),Math.min(P,I)),g.max.set(Math.max(w,O),Math.max(N,S),Math.max(I,P));var C=g.min.array,L=g.max.array;f(T[0],C[0],C[1],C[2]),f(T[1],C[0],L[1],C[2]),f(T[2],L[0],C[1],C[2]),f(T[3],L[0],L[1],C[2]),f(T[4],C[0],C[1],L[2]),f(T[5],C[0],L[1],L[2]),f(T[6],L[0],C[1],L[2]),f(T[7],L[0],L[1],L[2])}},getTransformedBoundingBox:function(){var t=o.create();return function(e,r){var n=this.vertices,a=r.array,i=e.min,s=e.max,o=i.array,f=s.array,l=n[0];c(t,l,a),u(o,t),u(f,t);for(var _=1;_<8;_++)l=n[_],c(t,l,a),o[0]=h(t[0],o[0]),o[1]=h(t[1],o[1]),o[2]=h(t[2],o[2]),f[0]=d(t[0],f[0]),f[1]=d(t[1],f[1]),f[2]=d(t[2],f[2]);return i._dirty=!0,s._dirty=!0,e}}()},e.a=l},function(t,e,r){"use strict";var n=r(6),a=r(2),i=r.n(a),s=i.a.vec3,o=i.a.mat4,f=i.a.vec4,u=function(t,e){this.normal=t||new n.a(0,1,0),this.distance=e||0};u.prototype={constructor:u,distanceToPoint:function(t){return s.dot(t.array,this.normal.array)-this.distance},projectPoint:function(t,e){e||(e=new n.a);var r=this.distanceToPoint(t);return s.scaleAndAdd(e.array,t.array,this.normal.array,-r),e._dirty=!0,e},normalize:function(){var t=1/s.len(this.normal.array);s.scale(this.normal.array,t),this.distance*=t},intersectFrustum:function(t){for(var e=t.vertices,r=this.normal.array,n=s.dot(e[0].array,r)>this.distance,a=1;a<8;a++)if(s.dot(e[a].array,r)>this.distance!=n)return!0},intersectLine:function(){var t=s.create();return function(e,r,a){var i=this.distanceToPoint(e),o=this.distanceToPoint(r);if(i>0&&o>0||i<0&&o<0)return null;var f=this.normal.array,u=this.distance,c=e.array;s.sub(t,r.array,e.array),s.normalize(t,t);var h=s.dot(f,t);if(0===h)return null;a||(a=new n.a);var d=(s.dot(f,c)-u)/h;return s.scaleAndAdd(a.array,c,t,-d),a._dirty=!0,a}}(),applyTransform:function(){var t=o.create(),e=f.create(),r=f.create();return r[3]=1,function(n){n=n.array,s.scale(r,this.normal.array,this.distance),f.transformMat4(r,r,n),this.distance=s.dot(r,this.normal.array),o.invert(t,n),o.transpose(t,t),e[3]=0,s.copy(e,this.normal.array),f.transformMat4(e,e,t),s.copy(this.normal.array,e)}}(),copy:function(t){s.copy(this.normal.array,t.normal.array),this.normal._dirty=!0,this.distance=t.distance},clone:function(){var t=new u;return t.copy(this),t}},e.a=u},function(t,e,r){"use strict";var n=r(6),a=r(2),i=r.n(a),s=i.a.vec3,o=function(t,e){this.origin=t||new n.a,this.direction=e||new n.a};o.prototype={constructor:o,intersectPlane:function(t,e){var r=t.normal.array,a=t.distance,i=this.origin.array,o=this.direction.array,f=s.dot(r,o);if(0===f)return null;e||(e=new n.a);var u=(s.dot(r,i)-a)/f;return s.scaleAndAdd(e.array,i,o,-u),e._dirty=!0,e},mirrorAgainstPlane:function(t){var e=s.dot(t.normal.array,this.direction.array);s.scaleAndAdd(this.direction.array,this.direction.array,t.normal.array,2*-e),this.direction._dirty=!0},distanceToPoint:function(){var t=s.create();return function(e){s.sub(t,e,this.origin.array);var r=s.dot(t,this.direction.array);if(r<0)return s.distance(this.origin.array,e);var n=s.lenSquared(t);return Math.sqrt(n-r*r)}}(),intersectSphere:function(){var t=s.create();return function(e,r,a){var i=this.origin.array,o=this.direction.array;e=e.array,s.sub(t,e,i);var f=s.dot(t,o),u=s.squaredLength(t),c=u-f*f,h=r*r;if(!(c>h)){var d=Math.sqrt(h-c),l=f-d,_=f+d;return a||(a=new n.a),l<0?_<0?null:(s.scaleAndAdd(a.array,i,o,_),a):(s.scaleAndAdd(a.array,i,o,l),a)}}}(),intersectBoundingBox:function(t,e){var r,a,i,o,f,u,c=this.direction.array,h=this.origin.array,d=t.min.array,l=t.max.array,_=1/c[0],p=1/c[1],m=1/c[2];if(_>=0?(r=(d[0]-h[0])*_,a=(l[0]-h[0])*_):(a=(d[0]-h[0])*_,r=(l[0]-h[0])*_),p>=0?(i=(d[1]-h[1])*p,o=(l[1]-h[1])*p):(o=(d[1]-h[1])*p,i=(l[1]-h[1])*p),r>o||i>a)return null;if((i>r||r!==r)&&(r=i),(o<a||a!==a)&&(a=o),m>=0?(f=(d[2]-h[2])*m,u=(l[2]-h[2])*m):(u=(d[2]-h[2])*m,f=(l[2]-h[2])*m),r>u||f>a)return null;if((f>r||r!==r)&&(r=f),(u<a||a!==a)&&(a=u),a<0)return null;var b=r>=0?r:a;return e||(e=new n.a),s.scaleAndAdd(e.array,h,c,b),e},intersectTriangle:function(){var t=s.create(),e=s.create(),r=s.create(),a=s.create();return function(i,o,f,u,c,h){var d=this.direction.array,l=this.origin.array;i=i.array,o=o.array,f=f.array,s.sub(t,o,i),s.sub(e,f,i),s.cross(a,e,d);var _=s.dot(t,a);if(u){if(_>-1e-5)return null}else if(_>-1e-5&&_<1e-5)return null;s.sub(r,l,i);var p=s.dot(a,r)/_;if(p<0||p>1)return null;s.cross(a,t,r);var m=s.dot(d,a)/_;if(m<0||m>1||p+m>1)return null;s.cross(a,t,e);var b=-s.dot(r,a)/_;return b<0?null:(c||(c=new n.a),h&&n.a.set(h,1-p-m,p,m),s.scaleAndAdd(c.array,l,d,b),c)}}(),applyTransform:function(t){n.a.add(this.direction,this.direction,this.origin),n.a.transformMat4(this.origin,this.origin,t),n.a.transformMat4(this.direction,this.direction,t),n.a.sub(this.direction,this.direction,this.origin),n.a.normalize(this.direction,this.direction)},copy:function(t){n.a.copy(this.origin,t.origin),n.a.copy(this.direction,t.direction)},clone:function(){var t=new o;return t.copy(this),t}},e.a=o},function(t,e,r){"use strict";function n(t){return t=Math.round(t),t<0?0:t>255?255:t}function a(t){return t=Math.round(t),t<0?0:t>360?360:t}function i(t){return t<0?0:t>1?1:t}function s(t){return n(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function o(t){return i(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function f(t,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}function u(t,e,r){return t+(e-t)*r}function c(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function d(t,e){v&&h(v,e),v=y.put(t,v||e.slice())}function l(t,e){var r=(parseFloat(t[0])%360+360)%360/360,a=o(t[1]),i=o(t[2]),s=i<=.5?i*(a+1):i+a-i*a,u=2*i-s;return e=e||[],c(e,n(255*f(u,s,r+1/3)),n(255*f(u,s,r)),n(255*f(u,s,r-1/3)),1),4===t.length&&(e[3]=t[3]),e}function _(t){if(t){var e,r,n=t[0]/255,a=t[1]/255,i=t[2]/255,s=Math.min(n,a,i),o=Math.max(n,a,i),f=o-s,u=(o+s)/2;if(0===f)e=0,r=0;else{r=u<.5?f/(o+s):f/(2-o-s);var c=((o-n)/6+f/2)/f,h=((o-a)/6+f/2)/f,d=((o-i)/6+f/2)/f;n===o?e=d-h:a===o?e=1/3+c-d:i===o&&(e=2/3+h-c),e<0&&(e+=1),e>1&&(e-=1)}var l=[360*e,r,u];return null!=t[3]&&l.push(t[3]),l}}var p=r(51),m={},b={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},y=new p.a(20),v=null;m.parse=function(t,e){if(t){e=e||[];var r=y.get(t);if(r)return h(e,r);t+="";var n=t.replace(/ /g,"").toLowerCase();if(n in b)return h(e,b[n]),d(t,e),e;if("#"!==n.charAt(0)){var a=n.indexOf("("),i=n.indexOf(")");if(-1!==a&&i+1===n.length){var f=n.substr(0,a),u=n.substr(a+1,i-(a+1)).split(","),_=1;switch(f){case"rgba":if(4!==u.length)return void c(e,0,0,0,1);_=o(u.pop());case"rgb":return 3!==u.length?void c(e,0,0,0,1):(c(e,s(u[0]),s(u[1]),s(u[2]),_),d(t,e),e);case"hsla":return 4!==u.length?void c(e,0,0,0,1):(u[3]=o(u[3]),l(u,e),d(t,e),e);case"hsl":return 3!==u.length?void c(e,0,0,0,1):(l(u,e),d(t,e),e);default:return}}c(e,0,0,0,1)}else{if(4===n.length){var p=parseInt(n.substr(1),16);return p>=0&&p<=4095?(c(e,(3840&p)>>4|(3840&p)>>8,240&p|(240&p)>>4,15&p|(15&p)<<4,1),d(t,e),e):void c(e,0,0,0,1)}if(7===n.length){var p=parseInt(n.substr(1),16);return p>=0&&p<=16777215?(c(e,(16711680&p)>>16,(65280&p)>>8,255&p,1),d(t,e),e):void c(e,0,0,0,1)}}}},m.parseToFloat=function(t,e){if(e=m.parse(t,e))return e[0]/=255,e[1]/=255,e[2]/=255,e},m.lift=function(t,e){var r=m.parse(t);if(r){for(var n=0;n<3;n++)r[n]=e<0?r[n]*(1-e)|0:(255-r[n])*e+r[n]|0;return m.stringify(r,4===r.length?"rgba":"rgb")}},m.toHex=function(t){var e=m.parse(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},m.fastLerp=function(t,e,r){if(e&&e.length&&t>=0&&t<=1){r=r||[];var a=t*(e.length-1),s=Math.floor(a),o=Math.ceil(a),f=e[s],c=e[o],h=a-s;return r[0]=n(u(f[0],c[0],h)),r[1]=n(u(f[1],c[1],h)),r[2]=n(u(f[2],c[2],h)),r[3]=i(u(f[3],c[3],h)),r}},m.fastMapToColor=m.fastLerp,m.lerp=function(t,e,r){if(e&&e.length&&t>=0&&t<=1){var a=t*(e.length-1),s=Math.floor(a),o=Math.ceil(a),f=m.parse(e[s]),c=m.parse(e[o]),h=a-s,d=m.stringify([n(u(f[0],c[0],h)),n(u(f[1],c[1],h)),n(u(f[2],c[2],h)),i(u(f[3],c[3],h))],"rgba");return r?{color:d,leftIndex:s,rightIndex:o,value:a}:d}},m.mapToColor=m.lerp,m.modifyHSL=function(t,e,r,n){if(t=m.parse(t))return t=_(t),null!=e&&(t[0]=a(e)),null!=r&&(t[1]=o(r)),null!=n&&(t[2]=o(n)),m.stringify(l(t),"rgba")},m.modifyAlpha=function(t,e){if((t=m.parse(t))&&null!=e)return t[3]=i(e),m.stringify(t,"rgba")},m.stringify=function(t,e){if(t&&t.length){var r=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(r+=","+t[3]),e+"("+r+")"}},e.a=m},function(t,e,r){"use strict";var n=r(52),a=function(t){this._list=new n.a,this._map={},this._maxSize=t||10};a.prototype.setMaxSize=function(t){this._maxSize=t},a.prototype.put=function(t,e){if(!this._map.hasOwnProperty(t)){var r=this._list.length();if(r>=this._maxSize&&r>0){var n=this._list.head;this._list.remove(n),delete this._map[n.key]}var a=this._list.insert(e);a.key=t,this._map[t]=a}},a.prototype.get=function(t){var e=this._map[t];if(this._map.hasOwnProperty(t))return e!==this._list.tail&&(this._list.remove(e),this._list.insertEntry(e)),e.value},a.prototype.remove=function(t){var e=this._map[t];void 0!==e&&(delete this._map[t],this._list.remove(e))},a.prototype.clear=function(){this._list.clear(),this._map={}},e.a=a},function(t,e,r){"use strict";var n=function(){this.head=null,this.tail=null,this._length=0};n.prototype.insert=function(t){var e=new n.Entry(t);return this.insertEntry(e),e},n.prototype.insertAt=function(t,e){if(!(t<0)){for(var r=this.head,a=0;r&&a!=t;)r=r.next,a++;if(r){var i=new n.Entry(e),s=r.prev;s?(s.next=i,i.prev=s):this.head=i,i.next=r,r.prev=i}else this.insert(e)}},n.prototype.insertBeforeEntry=function(t,e){var r=new n.Entry(t),a=e.prev;a?(a.next=r,r.prev=a):this.head=r,r.next=e,e.prev=r,this._length++},n.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,this.tail=t):this.head=this.tail=t,this._length++},n.prototype.remove=function(t){var e=t.prev,r=t.next;e?e.next=r:this.head=r,r?r.prev=e:this.tail=e,t.next=t.prev=null,this._length--},n.prototype.removeAt=function(t){if(!(t<0)){for(var e=this.head,r=0;e&&r!=t;)e=e.next,r++;return e?(this.remove(e),e.value):void 0}},n.prototype.getHead=function(){if(this.head)return this.head.value},n.prototype.getTail=function(){if(this.tail)return this.tail.value},n.prototype.getAt=function(t){if(!(t<0)){for(var e=this.head,r=0;e&&r!=t;)e=e.next,r++;return e.value}},n.prototype.indexOf=function(t){for(var e=this.head,r=0;e;){if(e.value===t)return r;e=e.next,r++}},n.prototype.length=function(){return this._length},n.prototype.isEmpty=function(){return 0===this._length},n.prototype.forEach=function(t,e){for(var r=this.head,n=0,a=void 0!==e;r;)a?t.call(e,r.value,n):t(r.value,n),r=r.next,n++},n.prototype.clear=function(){this.tail=this.head=null,this._length=0},n.Entry=function(t){this.value=t,this.next=null,this.prev=null},e.a=n},function(t,e,r){"use strict";var n=r(29),a=r(4),i=n.a.extend({material:null,geometry:null,mode:a.a.TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:a.a.BACK,frontFace:a.a.CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(t){},afterRender:function(t,e){},getBoundingBox:function(t,e){return e=n.a.prototype.getBoundingBox.call(this,t,e),this.geometry&&this.geometry.boundingBox&&e.union(this.geometry.boundingBox),e},clone:function(){var t=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var e=n.a.prototype.clone.call(this);e.geometry=this.geometry,e.material=this.material;for(var r=0;r<t.length;r++){var a=t[r];e[a]!==this[a]&&(e[a]=this[a])}return e}}()});i.POINTS=a.a.POINTS,i.LINES=a.a.LINES,i.LINE_LOOP=a.a.LINE_LOOP,i.LINE_STRIP=a.a.LINE_STRIP,i.TRIANGLES=a.a.TRIANGLES,i.TRIANGLE_STRIP=a.a.TRIANGLE_STRIP,i.TRIANGLE_FAN=a.a.TRIANGLE_FAN,i.BACK=a.a.BACK,i.FRONT=a.a.FRONT,i.FRONT_AND_BACK=a.a.FRONT_AND_BACK,i.CW=a.a.CW,i.CCW=a.a.CCW,e.a=i},function(t,e,r){"use strict";e.a="\n@export clay.compositor.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n v_Texcoord = texcoord;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end"},function(t,e,r){"use strict";function n(t){return"CANVAS"===t.nodeName||"VIDEO"===t.nodeName||t.complete}var a=r(10),i=r(4),s=r(12),o=r(31),f=o.a.isPowerOfTwo,u=["px","nx","py","ny","pz","nz"],c=a.a.extend(function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}},{textureType:"textureCube",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(t);var r=this.format,n=this.type;e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var a=t.getGLExtension("EXT_texture_filter_anisotropic");if(a&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_CUBE_MAP,a.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===n){t.getGLExtension("OES_texture_half_float")||(n=i.a.FLOAT)}if(this.mipmaps.length)for(var s=this.width,o=this.height,f=0;f<this.mipmaps.length;f++){var u=this.mipmaps[f];this._updateTextureData(e,u,f,s,o,r,n),s/=2,o/=2}else this._updateTextureData(e,this,0,this.width,this.height,r,n),!this.NPOT&&this.useMipmap&&e.generateMipmap(e.TEXTURE_CUBE_MAP);e.bindTexture(e.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(t,e,r,n,a,i,s){for(var o=0;o<6;o++){var f=u[o],c=e.image&&e.image[f];c?t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+o,r,i,i,s,c):t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+o,r,i,n,a,0,i,s,e.pixels&&e.pixels[f])}},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_CUBE_MAP))},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?f(this.image.px.width)&&f(this.image.px.height):f(this.width)&&f(this.height)},isRenderable:function(){return this.image.px?n(this.image.px)&&n(this.image.nx)&&n(this.image.py)&&n(this.image.ny)&&n(this.image.pz)&&n(this.image.nz):!(!this.width||!this.height)},load:function(t,e){var r=0,n=this;return s.a.each(t,function(t,a){var i=new Image;e&&(i.crossOrigin=e),i.onload=function(){r--,0===r&&(n.dirty(),n.trigger("success",n)),i.onload=null},i.onerror=function(){r--,i.onerror=null},r++,i.src=t,n.image[a]=i}),this}});Object.defineProperty(c.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(t){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==t&&this.dirty(),this._width=t)}}),Object.defineProperty(c.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(t){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==t&&this.dirty(),this._height=t)}})},function(t,e,r){"use strict";var n=r(19),a=n.a.extend(function(){return{dynamic:!0,attributes:{position:new n.a.Attribute("position","float",3,"POSITION")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(t){var e=this.attributes,r=4*t,n=2*t;this.vertexCount!==r&&e.position.init(r),this.triangleCount!==n&&(this.indices=0===n?null:this.vertexCount>65535?new Uint32Array(3*n):new Uint16Array(3*n))},addLine:function(t){var e=this._vertexOffset,r=this.attributes;r.position.set(e,[t[0],t[1],1]),r.position.set(e+1,[t[0],t[1],-1]),r.position.set(e+2,[t[0],t[1],2]),r.position.set(e+3,[t[0],t[1],-2]),this.setTriangleIndices(this._faceOffset++,[e,e+1,e+2]),this.setTriangleIndices(this._faceOffset++,[e+1,e+2,e+3]),this._vertexOffset+=4}});e.a=a},function(t,e){t.exports="@export stream.noise\nuniform float elapsedTime;\n\nuniform vec2 turbulence = vec2(0.01, 0.02);\nuniform float persistence = 0.707;\n\nvarying vec2 v_Texcoord;\n\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n    return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n{\n    const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                  0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                 -0.577350269189626,  // -1.0 + 2.0 * C.x\n                  0.024390243902439); // 1.0 / 41.0\n    // First corner\n    vec2 i  = floor(v + dot(v, C.yy) );\n    vec2 x0 = v -   i + dot(i, C.xx);\n\n    // Other corners\n    vec2 i1;\n    //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n    //i1.y = 1.0 - i1.x;\n    i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n    // x0 = x0 - 0.0 + 0.0 * C.xx ;\n    // x1 = x0 - i1 + 1.0 * C.xx ;\n    // x2 = x0 - 1.0 + 2.0 * C.xx ;\n    vec4 x12 = x0.xyxy + C.xxzz;\n    x12.xy -= i1;\n\n    // Permutations\n    i = mod289(i); // Avoid truncation effects in permutation\n    vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 )) + i.x + vec3(0.0, i1.x, 1.0 ));\n\n    vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n    m = m*m ;\n    m = m*m ;\n\n    // Gradients: 41 points uniformly over a line, mapped onto a diamond.\n    // The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n    vec3 x = 2.0 * fract(p * C.www) - 1.0;\n    vec3 h = abs(x) - 0.5;\n    vec3 ox = floor(x + 0.5);\n    vec3 a0 = x - ox;\n\n    // Normalise gradients implicitly by scaling m\n    // Approximation of: m *= inversesqrt( a0*a0 + h*h );\n    m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n    // Compute final noise value at P\n    vec3 g;\n    g.x  = a0.x  * x0.x  + h.x  * x0.y;\n    g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n    return 130.0 * dot(m, g);\n}\n\nfloat fBm_noise(vec2 x){\n    float y = snoise(x);\n    y += snoise(2.0 * x) * pow(persistence, 2.0);\n    y += snoise(4.0 * x) * pow(persistence, 4.0);\n    y += snoise(8.0 * x) * pow(persistence, 8.0);\n    return y/1.875;\n}\n\nvoid main()\n{\n    vec2 p = (v_Texcoord * 2.0 - 1.0);\n    p.x += sin(elapsedTime * turbulence.x);\n    p.y += cos(elapsedTime * turbulence.y);\n\n    vec3 f = vec3(0.0);\n    f.x = fBm_noise(p) * 0.5 + 0.5;\n\n    gl_FragColor = vec4(f, 1.0);\n}\n@end\n\n@export stream.updateParticle\n\nuniform sampler2D posTexture;\nuniform sampler2D spawnTexture;\nuniform sampler2D noiseTexture;\nuniform float noiseTextureSize = 256;\n\nuniform float deltaTime;\nuniform bool firstFrame;\n\nuniform float speedScaling = 1.0;\nuniform vec4 region = vec4(0, 0, 1, 1);\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n    highp vec4 pos = texture2D(posTexture, v_Texcoord);\n\n    if(pos.w > 0.0 && !firstFrame){\n        vec2 p = pos.xy;\n        float d = 1.0 / noiseTextureSize;\n        // https://www.cs.ubc.ca/~rbridson/docs/bridson-siggraph2007-curlnoise.pdf\n        highp float f = texture2D(noiseTexture, p).x * 2.0 - 1.0;\n\n        highp float fdx = texture2D(noiseTexture, p + vec2(d, 0)).x * 2.0 - 1.0 - f;\n        highp float fdy = texture2D(noiseTexture, p + vec2(0, d)).x * 2.0 - 1.0 - f;\n\n        vec2 v = vec2(fdy, -fdx) * 0.1 * speedScaling * noiseTextureSize;\n\n        pos.xy += v * deltaTime;\n        pos.w -= deltaTime;\n\n        if (pos.z < 0.5) {\n            pos.z = (dot(normalize(v), vec2(0.0, 1.0)) + 1.0) * 0.5;\n            pos.z = pos.z * 0.5 + 0.5;\n        }\n    }\n    else {\n        pos = texture2D(spawnTexture, v_Texcoord);\n        pos.z = 0.1;\n    }\n\n    gl_FragColor = pos;\n}\n@end\n\n@export stream.renderPoints.vertex\n\n#define PI 3.1415926\n\nattribute vec2 texcoord : TEXCOORD_0;\n\nuniform sampler2D posTexture;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nuniform float size = 1.0;\n\nvarying float v_Mag;\n\nvoid main()\n{\n    vec4 p = texture2D(posTexture, texcoord);\n\n    // PENDING If ignore 0 length vector\n    if (p.w > 0.0 && p.z >= 0.5) {\n        gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);\n    }\n    else {\n        gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n    }\n\n    v_Mag = p.z * 2.0 - 1.0;\n\n    gl_PointSize = size;\n}\n\n@end\n\n@export stream.renderPoints.fragment\n\nuniform vec4 color = vec4(1.0, 1.0, 1.0, 1.0);\nuniform sampler2D gradientTexture;\nuniform sampler2D spriteTexture;\n\nvarying float v_Mag;\nuniform float colorOffset = 0;\n\nvoid main()\n{\n    gl_FragColor = color;\n#ifdef SPRITETEXTURE_ENABLED\n    gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);\n    if (color.a == 0.0) {\n        discard;\n    }\n#endif\n#ifdef GRADIENTTEXTURE_ENABLED\n    gl_FragColor *= texture2D(gradientTexture, vec2(fract(colorOffset + v_Mag), 0.5));\n#endif\n}\n\n@end\n\n@export stream.renderLines.vertex\n\n#define PI 3.1415926\n\nattribute vec3 position : POSITION;\n\nuniform sampler2D posTexture;\nuniform sampler2D prevPosTexture;\n\nuniform float size = 1.0;\nuniform vec4 vp: VIEWPORT;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nvarying float v_Mag;\n\nvoid main()\n{\n    vec4 p = texture2D(posTexture, position.xy);\n    vec4 p2 = texture2D(prevPosTexture, position.xy);\n\n    p.xy = p.xy * 2.0 - 1.0;\n    p2.xy = p2.xy * 2.0 - 1.0;\n\n    // PENDING If ignore 0 length vector\n    if (p.w > 0.0 && p.z >= 0.5) {\n        vec2 dir = normalize(p.xy - p2.xy);\n        vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;\n        if (abs(position.z) == 2.0) {\n            gl_Position = vec4(p.xy + norm, 0.0, 1.0);\n            v_Mag = p.z * 2.0 - 1.0;\n        }\n        else {\n            gl_Position = vec4(p2.xy + norm, 0.0, 1.0);\n            v_Mag = p2.z * 2.0 - 1.0;\n        }\n        gl_Position = worldViewProjection * gl_Position;\n    }\n    else {\n        gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n    }\n}\n\n@end\n\n@export stream.renderLines.fragment\n\nuniform vec4 color = vec4(1.0, 1.0, 1.0, 1.0);\nuniform sampler2D gradientTexture;\nuniform float colorOffset = 0;\n\nvarying float v_Mag;\n\nvoid main()\n{\n    gl_FragColor = color;\n#ifdef GRADIENTTEXTURE_ENABLED\n    gl_FragColor *= texture2D(gradientTexture, vec2(fract(colorOffset + v_Mag), 0.5));\n#endif\n}\n\n@end\n\n@export stream.downsample\n\nuniform sampler2D texture;\nuniform vec2 textureSize = vec2(512, 512);\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n    vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n\n    vec4 color = texture2D(texture, v_Texcoord + d.xy);\n    color += texture2D(texture, v_Texcoord + d.zy);\n    color += texture2D(texture, v_Texcoord + d.xw);\n    color += texture2D(texture, v_Texcoord + d.zw);\n    color *= 0.25;\n\n    gl_FragColor = color;\n}\n\n@end\n\n@export stream.output\n\nvarying vec2 v_Texcoord;\n\nuniform sampler2D texture;\nuniform vec4 color = vec4(1, 1, 1, 1);\n\nvoid main() {\n    gl_FragColor = texture2D(texture, v_Texcoord);\n    gl_FragColor *= color;\n}\n@end\n\n@export stream.extract\n\nuniform sampler2D texture;\nvarying vec2 v_Texcoord;\n\nuniform vec4 color = vec4(0.0, 0.0, 0.0, 1);\n\nvoid main() {\n    vec4 texel = texture2D(texture, v_Texcoord);\n    if (texel.a > 0.5) {\n        gl_FragColor = color;\n    }\n    else {\n        gl_FragColor = vec4(0.0);\n    }\n}\n\n@end\n\n\n@export stream.gaussian_blur\n\nuniform sampler2D texture;\nvarying vec2 v_Texcoord;\n\nuniform float blurSize = 2.0;\nuniform vec2 textureSize = vec2(512.0, 512.0);\nuniform float blurDir = 0.0;\n\nvoid main (void)\n{\n    float kernel[9];\n    kernel[0] = 0.07;\n    kernel[1] = 0.09;\n    kernel[2] = 0.12;\n    kernel[3] = 0.14;\n    kernel[4] = 0.16;\n    kernel[5] = 0.14;\n    kernel[6] = 0.12;\n    kernel[7] = 0.09;\n    kernel[8] = 0.07;\n\n    vec2 off = blurSize / textureSize;\n    off *= vec2(1.0 - blurDir, blurDir);\n\n    vec4 sum = vec4(0.0);\n    float weightAll = 0.0;\n\n    // blur in y (horizontal)\n    for (int i = 0; i < 9; i++) {\n        float w = kernel[i];\n        // Premultiplied Alpha\n        vec4 texel = texture2D(texture, v_Texcoord + float(i - 4) * off);\n        // TODO alpha blend?\n        sum += texel * w;\n        weightAll += w;\n    }\n    gl_FragColor = sum / max(weightAll, 0.01);\n}\n\n@end\n"},function(t,e,r){"use strict";function n(){this._extractPass=new a.a({fragment:i.a.source("stream.extract")}),this._blurPass1=new a.a({fragment:i.a.source("stream.gaussian_blur")}),this._blurPass2=new a.a({fragment:i.a.source("stream.gaussian_blur")}),this._blurPass2.setUniform("blurDir",1),this._framebuffer=new s.a({depthBuffer:!1}),this._bwTexture=new o.a,this._blurTexture=new o.a}var a=r(28),i=r(8),s=r(22),o=r(9);n.prototype.update=function(t,e){var r=e.width,n=e.height;this._bwTexture.width=r/2,this._bwTexture.height=n/2,this._blurTexture.width=r/2,this._blurTexture.height=n/2;var a=this._framebuffer;a.bind(t),a.attach(this._bwTexture),this._extractPass.setUniform("texture",e),this._extractPass.setUniform("textureSize",[r,n]),this._extractPass.render(t),a.attach(this._blurTexture),this._blurPass1.setUniform("texture",this._bwTexture),this._blurPass1.setUniform("textureSize",[r/2,n/2]),this._blurPass1.render(t),a.attach(this._bwTexture),this._blurPass2.setUniform("texture",this._blurTexture),this._blurPass2.setUniform("textureSize",[r/2,n/2]),this._blurPass2.render(t),a.unbind(t)},n.prototype.getSurfaceTexture=function(){return this._bwTexture},e.a=n},function(t,e,r){var n;!function(){"use strict";function a(t){var e;e="function"==typeof t?t:t?s(t):Math.random,this.p=i(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var r=0;r<512;r++)this.perm[r]=this.p[255&r],this.permMod12[r]=this.perm[r]%12}function i(t){var e,r=new Uint8Array(256);for(e=0;e<256;e++)r[e]=e;for(e=0;e<255;e++){var n=e+~~(t()*(256-e)),a=r[e];r[e]=r[n],r[n]=a}return r}function s(){var t=0,e=0,r=0,n=1,a=o();t=a(" "),e=a(" "),r=a(" ");for(var i=0;i<arguments.length;i++)t-=a(arguments[i]),t<0&&(t+=1),e-=a(arguments[i]),e<0&&(e+=1),(r-=a(arguments[i]))<0&&(r+=1);return a=null,function(){var a=2091639*t+2.3283064365386963e-10*n;return t=e,e=r,r=a-(n=0|a)}}function o(){var t=4022871197;return function(e){e=e.toString();for(var r=0;r<e.length;r++){t+=e.charCodeAt(r);var n=.02519603282416938*t;t=n>>>0,n-=t,n*=t,t=n>>>0,n-=t,t+=4294967296*n}return 2.3283064365386963e-10*(t>>>0)}}var f=.5*(Math.sqrt(3)-1),u=(3-Math.sqrt(3))/6,c=1/6,h=(Math.sqrt(5)-1)/4,d=(5-Math.sqrt(5))/20;a.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,e){var r,n,a=this.permMod12,i=this.perm,s=this.grad3,o=0,c=0,h=0,d=(t+e)*f,l=Math.floor(t+d),_=Math.floor(e+d),p=(l+_)*u,m=l-p,b=_-p,y=t-m,v=e-b;y>v?(r=1,n=0):(r=0,n=1);var g=y-r+u,T=v-n+u,E=y-1+2*u,x=v-1+2*u,A=255&l,R=255&_,M=.5-y*y-v*v;if(M>=0){var O=3*a[A+i[R]];M*=M,o=M*M*(s[O]*y+s[O+1]*v)}var w=.5-g*g-T*T;if(w>=0){var N=3*a[A+r+i[R+n]];w*=w,c=w*w*(s[N]*g+s[N+1]*T)}var S=.5-E*E-x*x;if(S>=0){var I=3*a[A+1+i[R+1]];S*=S,h=S*S*(s[I]*E+s[I+1]*x)}return 70*(o+c+h)},noise3D:function(t,e,r){var n,a,i,s,o,f,u,h,d,l,_=this.permMod12,p=this.perm,m=this.grad3,b=(t+e+r)*(1/3),y=Math.floor(t+b),v=Math.floor(e+b),g=Math.floor(r+b),T=(y+v+g)*c,E=y-T,x=v-T,A=g-T,R=t-E,M=e-x,O=r-A;R>=M?M>=O?(o=1,f=0,u=0,h=1,d=1,l=0):R>=O?(o=1,f=0,u=0,h=1,d=0,l=1):(o=0,f=0,u=1,h=1,d=0,l=1):M<O?(o=0,f=0,u=1,h=0,d=1,l=1):R<O?(o=0,f=1,u=0,h=0,d=1,l=1):(o=0,f=1,u=0,h=1,d=1,l=0);var w=R-o+c,N=M-f+c,S=O-u+c,I=R-h+2*c,P=M-d+2*c,C=O-l+2*c,L=R-1+.5,D=M-1+.5,U=O-1+.5,F=255&y,B=255&v,k=255&g,G=.6-R*R-M*M-O*O;if(G<0)n=0;else{var j=3*_[F+p[B+p[k]]];G*=G,n=G*G*(m[j]*R+m[j+1]*M+m[j+2]*O)}var V=.6-w*w-N*N-S*S;if(V<0)a=0;else{var X=3*_[F+o+p[B+f+p[k+u]]];V*=V,a=V*V*(m[X]*w+m[X+1]*N+m[X+2]*S)}var W=.6-I*I-P*P-C*C;if(W<0)i=0;else{var H=3*_[F+h+p[B+d+p[k+l]]];W*=W,i=W*W*(m[H]*I+m[H+1]*P+m[H+2]*C)}var z=.6-L*L-D*D-U*U;if(z<0)s=0;else{var q=3*_[F+1+p[B+1+p[k+1]]];z*=z,s=z*z*(m[q]*L+m[q+1]*D+m[q+2]*U)}return 32*(n+a+i+s)},noise4D:function(t,e,r,n){var a,i,s,o,f,u=this.perm,c=this.grad4,l=(t+e+r+n)*h,_=Math.floor(t+l),p=Math.floor(e+l),m=Math.floor(r+l),b=Math.floor(n+l),y=(_+p+m+b)*d,v=_-y,g=p-y,T=m-y,E=b-y,x=t-v,A=e-g,R=r-T,M=n-E,O=0,w=0,N=0,S=0;x>A?O++:w++,x>R?O++:N++,x>M?O++:S++,A>R?w++:N++,A>M?w++:S++,R>M?N++:S++;var I,P,C,L,D,U,F,B,k,G,j,V;I=O>=3?1:0,P=w>=3?1:0,C=N>=3?1:0,L=S>=3?1:0,D=O>=2?1:0,U=w>=2?1:0,F=N>=2?1:0,B=S>=2?1:0,k=O>=1?1:0,G=w>=1?1:0,j=N>=1?1:0,V=S>=1?1:0;var X=x-I+d,W=A-P+d,H=R-C+d,z=M-L+d,q=x-D+2*d,Y=A-U+2*d,Z=R-F+2*d,K=M-B+2*d,J=x-k+3*d,Q=A-G+3*d,$=R-j+3*d,tt=M-V+3*d,et=x-1+4*d,rt=A-1+4*d,nt=R-1+4*d,at=M-1+4*d,it=255&_,st=255&p,ot=255&m,ft=255&b,ut=.6-x*x-A*A-R*R-M*M;if(ut<0)a=0;else{var ct=u[it+u[st+u[ot+u[ft]]]]%32*4;ut*=ut,a=ut*ut*(c[ct]*x+c[ct+1]*A+c[ct+2]*R+c[ct+3]*M)}var ht=.6-X*X-W*W-H*H-z*z;if(ht<0)i=0;else{var dt=u[it+I+u[st+P+u[ot+C+u[ft+L]]]]%32*4;ht*=ht,i=ht*ht*(c[dt]*X+c[dt+1]*W+c[dt+2]*H+c[dt+3]*z)}var lt=.6-q*q-Y*Y-Z*Z-K*K;if(lt<0)s=0;else{var _t=u[it+D+u[st+U+u[ot+F+u[ft+B]]]]%32*4;lt*=lt,s=lt*lt*(c[_t]*q+c[_t+1]*Y+c[_t+2]*Z+c[_t+3]*K)}var pt=.6-J*J-Q*Q-$*$-tt*tt;if(pt<0)o=0;else{var mt=u[it+k+u[st+G+u[ot+j+u[ft+V]]]]%32*4;pt*=pt,o=pt*pt*(c[mt]*J+c[mt+1]*Q+c[mt+2]*$+c[mt+3]*tt)}var bt=.6-et*et-rt*rt-nt*nt-at*at;if(bt<0)f=0;else{var yt=u[it+1+u[st+1+u[ot+1+u[ft+1]]]]%32*4;bt*=bt,f=bt*bt*(c[yt]*et+c[yt+1]*rt+c[yt+2]*nt+c[yt+3]*at)}return 27*(a+i+s+o+f)}},a._buildPermutationTable=i,void 0!==(n=function(){return a}.call(e,r,e,t))&&(t.exports=n),e.SimplexNoise=a,t.exports=a}()},function(t,e,r){"use strict";(function(t){var n=r(3),a=r(61),i="undefined"==typeof window?t:window,s=i.requestAnimationFrame||i.msRequestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||function(t){setTimeout(t,16)},o=n.a.extend(function(){return{stage:null,_clips:[],_running:!1,_time:0,_paused:!1,_pausedTime:0}},{addAnimator:function(t){t.animation=this;for(var e=t.getClips(),r=0;r<e.length;r++)this.addClip(e[r])},addClip:function(t){this._clips.indexOf(t)<0&&this._clips.push(t)},removeClip:function(t){var e=this._clips.indexOf(t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),r=0;r<e.length;r++)this.removeClip(e[r]);t.animation=null},_update:function(){for(var t=Date.now()-this._pausedTime,e=t-this._time,r=this._clips,n=r.length,a=[],i=[],s=0;s<n;s++){var o=r[s],f=o.step(t,e,!1);f&&(a.push(f),i.push(o))}for(var s=0;s<n;)r[s]._needsRemove?(r[s]=r[n-1],r.pop(),n--):s++;n=a.length;for(var s=0;s<n;s++)i[s].fire(a[s]);this._time=t,this.trigger("frame",e),this.stage&&this.stage.render&&this.stage.render()},start:function(){function t(){e._running&&(s(t),e._paused||e._update())}var e=this;this._running=!0,this._time=Date.now(),this._pausedTime=0,s(t)},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=Date.now(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=Date.now()-this._pauseStart,this._paused=!1)},removeClipsAll:function(){this._clips=[]},animate:function(t,e){e=e||{};var r=new a.a(t,e.loop,e.getter,e.setter,e.interpolater);return r.animation=this,r}});e.a=o}).call(e,r(30))},function(t,e,r){"use strict";function n(t,e){return t[e]}function a(t,e,r){t[e]=r}function i(t,e,r){return(e-t)*r+t}function s(t,e,r,n,a){var s=t.length;if(1==a)for(var o=0;o<s;o++)n[o]=i(t[o],e[o],r);else for(var f=t[0].length,o=0;o<s;o++)for(var u=0;u<f;u++)n[o][u]=i(t[o][u],e[o][u],r)}function o(t){return void 0!==t&&("string"!=typeof t&&"number"==typeof t.length)}function f(t){if(o(t)){var e=t.length;if(o(t[0])){for(var r=[],n=0;n<e;n++)r.push(y.call(t[n]));return r}return y.call(t)}return t}function u(t,e,r,n,a,i,s,o,f){var u=t.length;if(1==f)for(var h=0;h<u;h++)o[h]=c(t[h],e[h],r[h],n[h],a,i,s);else for(var d=t[0].length,h=0;h<u;h++)for(var l=0;l<d;l++)o[h][l]=c(t[h][l],e[h][l],r[h][l],n[h][l],a,i,s)}function c(t,e,r,n,a,i,s){var o=.5*(r-t),f=.5*(n-e);return(2*(e-r)+o+f)*s+(-3*(e-r)-2*o-f)*i+o*a+e}function h(t,e,r){var n=t.length,a=e.length;if(n!==a){if(n>a)t.length=a;else for(var i=n;i<a;i++)t.push(1===r?e[i]:y.call(e[i]))}for(var s=t[0]&&t[0].length,i=0;i<t.length;i++)if(1===r)isNaN(t[i])&&(t[i]=e[i]);else for(var o=0;o<s;o++)isNaN(t[i][o])&&(t[i][o]=e[i][o])}function d(t,e,r){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===r){for(var a=0;a<n;a++)if(t[a]!==e[a])return!1}else for(var i=t[0].length,a=0;a<n;a++)for(var s=0;s<i;s++)if(t[a][s]!==e[a][s])return!1;return!0}function l(t,e,r,n,a,f,l){var _=t._getter,p=t._setter,b="spline"===e,y=n.length;if(y){var v=n[0].value,g=o(v),T=g&&o(v[0])?2:1;n.sort(function(t,e){return t.time-e.time});for(var E=[],x=[],A=[],R=n[0].value,M=!0,O=0;O<y;O++){E.push(n[O].time/l);var w=n[O].value;g&&d(w,R,T)||!g&&w===R||(M=!1),R=w,x.push(w),A.push(n[O].easing)}if(!M){for(var N=x[y-1],O=0;O<y-1;O++)g?h(x[O],N,T):isNaN(x[O])&&!isNaN(N)&&(x[O]=N);g&&h(_(t._target,a),N,T);var S,O,I,P,C,L,D,U=0,F=0,B=function(t,e){if(e<F){for(S=Math.min(U+1,y-1),O=S;O>=0&&!(E[O]<=e);O--);O=Math.min(O,y-2)}else{for(O=U;O<y&&!(E[O]>e);O++);O=Math.min(O-1,y-2)}U=O,F=e;var r=E[O+1]-E[O];0!==r&&(I=(e-E[O])/r,I=Math.max(Math.min(1,I),0),I=A[O+1](I),b?(C=x[O],P=x[0===O?O:O-1],L=x[O>y-2?y-1:O+1],D=x[O>y-3?y-1:O+2],f?p(t,a,f(_(t,a),P,C,L,D,I)):g?u(P,C,L,D,I,I*I,I*I*I,_(t,a),T):p(t,a,c(P,C,L,D,I,I*I,I*I*I))):f?p(t,a,f(_(t,a),x[O],x[O+1],I)):g?s(x[O],x[O+1],I,_(t,a),T):p(t,a,i(x[O],x[O+1],I)))},k=new m.a({target:t._target,life:l,loop:t._loop,delay:t._delay,onframe:B,onfinish:r});return e&&"spline"!==e&&k.setEasing(e),k}}}function _(t,e,r,i,s){this._tracks={},this._target=t,this._loop=e||!1,this._getter=r||n,this._setter=i||a,this._interpolater=s||null,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[],this._maxTime=0,this._lastKFTime=0}function p(t){return t}var m=r(62),b=r(32),y=Array.prototype.slice;_.prototype={constructor:_,when:function(t,e,r){this._maxTime=Math.max(t,this._maxTime),r=("function"==typeof r?r:b.a[r])||p;for(var n in e)this._tracks[n]||(this._tracks[n]=[],0!==t&&this._tracks[n].push({time:0,value:f(this._getter(this._target,n)),easing:r})),this._tracks[n].push({time:parseInt(t),value:e[n],easing:r});return this},then:function(t,e,r){return this.when(t+this._lastKFTime,e,r),this._lastKFTime+=t,this},during:function(t){return this._onframeList.push(t),this},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,r=0;r<e;r++)t[r].call(this)},start:function(t){var e,r=this,n=0,a=function(){0===--n&&r._doneCallback()},i=0;for(var s in this._tracks){var o=l(this,t,a,this._tracks[s],s,r._interpolater,r._maxTime);o&&(i=Math.max(i,o.life),this._clipList.push(o),n++,this.animation&&this.animation.addClip(o),e=o)}if(e){var f=e.onframe;e.onframe=function(t,e){f(t,e);for(var n=0;n<r._onframeList.length;n++)r._onframeList[n](t,e)}}return n||this._doneCallback(),this},stop:function(){for(var t=0;t<this._clipList.length;t++){var e=this._clipList[t];this.animation.removeClip(e)}this._clipList=[]},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}},e.a=_},function(t,e,r){"use strict";function n(){}var a=r(32),i=function(t){t=t||{},this.name=t.name||"",this.target=t.target,this.life=t.life||1e3,this.delay=t.delay||0,this.gap=t.gap||0,this.playbackRate=t.playbackRate||1,this._initialized=!1,this._elapsedTime=0,this._loop=null!=t.loop&&t.loop,this.setLoop(this._loop),null!=t.easing&&this.setEasing(t.easing),this.onframe=t.onframe||n,this.onfinish=t.onfinish||n,this.onrestart=t.onrestart||n,this._paused=!1};i.prototype={gap:0,life:0,delay:0,setLoop:function(t){this._loop=t,t&&(this._loopRemained="number"==typeof t?t:1/0)},setEasing:function(t){"string"==typeof t&&(t=a.a[t]),this.easing=t},step:function(t,e,r){if(this._initialized||(this._startTime=t+this.delay,this._initialized=!0),null!=this._currentTime&&(e=t-this._currentTime),this._currentTime=t,this._paused)return"paused";if(!(t<this._startTime)){this._elapse(t,e);var n=Math.min(this._elapsedTime/this.life,1);if(!(n<0)){var a;return a=this.easing?this.easing(n):n,r||this.fire("frame",a),1===n?this._loop&&this._loopRemained>0?(this._restartInLoop(t),this._loopRemained--,"restart"):(this._needsRemove=!0,"finish"):null}}},setTime:function(t){return this.step(t+this._startTime)},restart:function(t){var e=0;t&&(this._elapse(t),e=this._elapsedTime%this.life),t=t||Date.now(),this._startTime=t-e+this.delay,this._elapsedTime=0,this._needsRemove=!1,this._paused=!1},getElapsedTime:function(){return this._elapsedTime},_restartInLoop:function(t){this._startTime=t+this.gap,this._elapsedTime=0},_elapse:function(t,e){this._elapsedTime+=e*this.playbackRate},fire:function(t,e){var r="on"+t;this[r]&&this[r](this.target,e)},clone:function(){var t=new this.constructor;return t.name=this.name,t._loop=this._loop,t._loopRemained=this._loopRemained,t.life=this.life,t.gap=this.gap,t.delay=this.delay,t},pause:function(){this._paused=!0},resume:function(){this._paused=!1}},i.prototype.constructor=i,e.a=i},function(t,e,r){"use strict";function n(t){return t.material}function a(t,e,r){return e.uniforms[r].value}function i(t,e,r,n){return r!==n}function s(){}function o(t,e,r){this.availableAttributes=t,this.availableAttributeSymbols=e,this.indicesBuffer=r,this.vao=null}var f=r(3),u=r(64),c=r(4),h=(r(13),r(7),r(17),r(14)),d=r(65),l=r(9),_=r(66),p=r(8),m=r(68),b=r(70),y=r(2),v=r.n(y);p.a.import(m.a),p.a.import(b.a);var g=v.a.mat4,T=v.a.vec3,E=g.create,x={},A={float:c.a.FLOAT,byte:c.a.BYTE,ubyte:c.a.UNSIGNED_BYTE,short:c.a.SHORT,ushort:c.a.UNSIGNED_SHORT},R=f.a.extend(function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:window&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},createCanvas:function(){return document.createElement("canvas")},__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}},function(){this.canvas||(this.canvas=this.createCanvas());var t=this.canvas;try{var e={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!this.gl)throw new Error;this._glinfo=new u.a(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(t){throw"Error creating WebGL Context "+t}this._programMgr=new _.a(this);var r=this.createCanvas();r.width=r.height=1;r.getContext("2d");this._placeholderTexture=new l.a({canvas:r})},{resize:function(t,e){var r=this.canvas,n=this.devicePixelRatio;null!=t?(r.style.width=t+"px",r.style.height=e+"px",r.width=t*n,r.height=e*n,this._width=t,this._height=e):(this._width=r.width/n,this._height=r.height/n),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var t=this.viewport;return t.width/t.height},setDevicePixelRatio:function(t){this.devicePixelRatio=t,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(t){return this._glinfo.getExtension(t)},getGLParameter:function(t){return this._glinfo.getParameter(t)},setViewport:function(t,e,r,n,a){if("object"==typeof t){var i=t;t=i.x,e=i.y,r=i.width,n=i.height,a=i.devicePixelRatio}a=a||this.devicePixelRatio,this.gl.viewport(t*a,e*a,r*a,n*a),this.viewport={x:t,y:e,width:r,height:n,devicePixelRatio:a}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var t=this._clearStack.pop();this.clearColor=t.clearColor,this.clearBit=t.clearBit}},bindSceneRendering:function(t){this._sceneRendering=t},render:function(t,e,r,n){var a=this.gl,i=this.clearColor;if(this.clearBit){a.colorMask(!0,!0,!0,!0),a.depthMask(!0);var s=this.viewport,o=!1,f=s.devicePixelRatio;(s.width!==this._width||s.height!==this._height||f&&f!==this.devicePixelRatio||s.x||s.y)&&(o=!0,a.enable(a.SCISSOR_TEST),a.scissor(s.x*f,s.y*f,s.width*f,s.height*f)),a.clearColor(i[0],i[1],i[2],i[3]),a.clear(this.clearBit),o&&a.disable(a.SCISSOR_TEST)}if(r||t.update(!1),t.updateLights(),!(e=e||t.getMainCamera()))return void console.error("Can't find camera in the scene.");e.update();var u=t.updateRenderList(e,!0);this._sceneRendering=t;var c=u.opaque,h=u.transparent,d=t.material;t.trigger("beforerender",this,t,e,u),n?(this.renderPreZ(c,t,e),a.depthFunc(a.LEQUAL)):a.depthFunc(a.LESS);for(var l=E(),_=T.create(),p=0;p<h.length;p++){var m=h[p];g.multiplyAffine(l,e.viewMatrix.array,m.worldTransform.array),T.transformMat4(_,m.position.array,l),m.__depth=_[2]}this.renderPass(c,e,{getMaterial:function(t){return d||t.material},sortCompare:this.opaqueSortCompare}),this.renderPass(h,e,{getMaterial:function(t){return d||t.material},sortCompare:this.transparentSortCompare}),t.trigger("afterrender",this,t,e,u),this._sceneRendering=null},getProgram:function(t,e,r){return e=e||t.material,this._programMgr.getProgram(t,e,r)},validateProgram:function(t){if(t.__error){var e=t.__error;if(x[t.__uid__])return;if(x[t.__uid__]=!0,this.throwError)throw new Error(e);this.trigger("error",e)}},updatePrograms:function(t,e,r){var a=r&&r.getMaterial||n;e=e||null;for(var i=0;i<t.length;i++){var s=t[i],o=a.call(this,s);if(i>0){var f=t[i-1],u=f.joints?f.joints.length:0;if((s.joints?s.joints.length:0)===u&&s.material===f.material&&s.lightGroup===f.lightGroup){s.__program=f.__program;continue}}var c=this._programMgr.getProgram(s,o,e);this.validateProgram(c),s.__program=c}},renderPass:function(t,e,r){this.trigger("beforerenderpass",this,t,e,r),r=r||{},r.getMaterial=r.getMaterial||n,r.getUniform=r.getUniform||a,r.isMaterialChanged=r.isMaterialChanged||i,r.beforeRender=r.beforeRender||s,r.afterRender=r.afterRender||s,this.updatePrograms(t,this._sceneRendering,r),r.sortCompare&&t.sort(r.sortCompare);var o=this.viewport,f=o.devicePixelRatio,u=[o.x*f,o.y*f,o.width*f,o.height*f],c=this.devicePixelRatio,h=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*c,this._height*c],d=[u[2],u[3]],l=Date.now();g.copy(M.VIEW,e.viewMatrix.array),g.copy(M.PROJECTION,e.projectionMatrix.array),g.multiply(M.VIEWPROJECTION,e.projectionMatrix.array,M.VIEW),g.copy(M.VIEWINVERSE,e.worldTransform.array),g.invert(M.PROJECTIONINVERSE,M.PROJECTION),g.invert(M.VIEWPROJECTIONINVERSE,M.VIEWPROJECTION);for(var _,p,m,b,y,v,T,E,x,A,R,O=this.gl,w=this._sceneRendering,N=this.getGLExtension("OES_vertex_array_object"),S=0;S<t.length;S++){var I=t[S];if(!r.ifRender||r.ifRender(I)){var P=I.isSkinnedMesh()?M.IDENTITY:I.worldTransform.array,C=I.geometry,L=r.getMaterial.call(this,I),D=I.__program,U=L.shader,F=C.__uid__+"-"+D.__uid__,B=F!==A;A=F,B&&N&&N.bindVertexArrayOES(null),g.copy(M.WORLD,P),g.multiply(M.WORLDVIEWPROJECTION,M.VIEWPROJECTION,P),g.multiplyAffine(M.WORLDVIEW,e.viewMatrix.array,P),(U.matrixSemantics.WORLDINVERSE||U.matrixSemantics.WORLDINVERSETRANSPOSE)&&g.invert(M.WORLDINVERSE,P),(U.matrixSemantics.WORLDVIEWINVERSE||U.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&g.invert(M.WORLDVIEWINVERSE,M.WORLDVIEW),(U.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||U.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&g.invert(M.WORLDVIEWPROJECTIONINVERSE,M.WORLDVIEWPROJECTION),I.beforeRender(this),r.beforeRender.call(this,I,L,_);var k=D!==p;k?(D.bind(this),D.setUniformOfSemantic(O,"VIEWPORT",u),D.setUniformOfSemantic(O,"WINDOW_SIZE",h),D.setUniformOfSemantic(O,"NEAR",e.near),D.setUniformOfSemantic(O,"FAR",e.far),D.setUniformOfSemantic(O,"DEVICEPIXELRATIO",f),D.setUniformOfSemantic(O,"TIME",l),D.setUniformOfSemantic(O,"VIEWPORT_SIZE",d),w&&w.setLightUniforms(D,I.lightGroup,this)):D=p,(k||r.isMaterialChanged(I,m,L,_))&&(L.depthTest!==b&&(L.depthTest?O.enable(O.DEPTH_TEST):O.disable(O.DEPTH_TEST),b=L.depthTest),L.depthMask!==y&&(O.depthMask(L.depthMask),y=L.depthMask),L.transparent!==x&&(L.transparent?O.enable(O.BLEND):O.disable(O.BLEND),x=L.transparent),L.transparent&&(L.blend?L.blend(O):(O.blendEquationSeparate(O.FUNC_ADD,O.FUNC_ADD),O.blendFuncSeparate(O.SRC_ALPHA,O.ONE_MINUS_SRC_ALPHA,O.ONE,O.ONE_MINUS_SRC_ALPHA))),this._bindMaterial(I,L,D,m||null,_||null,p||null,r.getUniform),_=L);for(var G=U.matrixSemanticKeys,j=0;j<G.length;j++){var V=G[j],X=U.matrixSemantics[V],W=M[V];if(X.isTranspose){var H=M[X.semanticNoTranspose];g.transpose(W,H)}D.setUniform(O,X.type,X.symbol,W)}I.cullFace!==T&&(T=I.cullFace,O.cullFace(T)),I.frontFace!==E&&(E=I.frontFace,O.frontFace(E)),I.culling!==v&&(v=I.culling,v?O.enable(O.CULL_FACE):O.disable(O.CULL_FACE)),this._updateSkeleton(I,D),B&&(R=this._bindVAO(N,U,C,D)),this._renderObject(I,R),r.afterRender.call(this,I),I.afterRender(this),p=D,m=I}}N&&N.bindVertexArrayOES(null),this.trigger("afterrenderpass",this,t,e,r)},_updateSkeleton:function(t,e){var r=this.gl;if(t.skeleton){t.skeleton.update();var n=t.skeleton.getSubSkinMatrices(t.__uid__,t.joints);e.setUniformOfSemantic(r,"SKIN_MATRIX",n)}},_renderObject:function(t,e){var r=this.gl,n=t.geometry,a=t.mode;if(e.indicesBuffer){var i=this.getGLExtension("OES_element_index_uint"),s=i&&n.indices instanceof Uint32Array,o=s?r.UNSIGNED_INT:r.UNSIGNED_SHORT;r.drawElements(a,e.indicesBuffer.count,o,0)}else r.drawArrays(a,0,n.vertexCount)},_bindMaterial:function(t,e,r,n,a,i,s){for(var o=this.gl,f=i===r,u=r.currentTextureSlot(),c=e.getEnabledUniforms(),h=e.getTextureUniforms(),d=this._placeholderTexture,l=0;l<h.length;l++){var _=h[l],p=s(t,e,_),m=e.uniforms[_].type;if("t"===m&&p)p.__slot=-1;else if("tv"===m)for(var b=0;b<p.length;b++)p[b]&&(p[b].__slot=-1)}d.__slot=-1;for(var l=0;l<c.length;l++){var _=c[l],y=e.uniforms[_],p=s(t,e,_),m=y.type;if("t"===m&&(p&&p.isRenderable()||(p=d)),a&&f){var v=s(n,a,_);if("t"===m&&(v&&v.isRenderable()||(v=d)),v===p){if("t"===y.type)r.takeCurrentTextureSlot(this,null);else if("tv"===m&&p)for(var b=0;b<p.length;b++)r.takeCurrentTextureSlot(this,null);continue}}if(null!=p)if("t"===m)if(p.__slot<0){var g=r.currentTextureSlot(),T=r.setUniform(o,"1i",_,g);T&&(r.takeCurrentTextureSlot(this,p),p.__slot=g)}else r.setUniform(o,"1i",_,p.__slot);else if(Array.isArray(p)){if(0===p.length)continue;if("tv"===m){if(!r.hasUniform(_))continue;for(var E=[],b=0;b<p.length;b++){var x=p[b];if(x.__slot<0){var g=r.currentTextureSlot();E.push(g),r.takeCurrentTextureSlot(this,x),x.__slot=g}else E.push(x.__slot)}r.setUniform(o,"1iv",_,E)}else r.setUniform(o,y.type,_,p)}else r.setUniform(o,y.type,_,p)}r.resetTextureSlot(u)},_bindVAO:function(t,e,r,n){var a=!r.dynamic,i=this.gl,s=this.__uid__+"-"+n.__uid__,f=r.__vaoCache[s];if(!f){var u=r.getBufferChunks(this);if(!u||!u.length)return;for(var c=u[0],h=c.attributeBuffers,d=c.indicesBuffer,l=[],_=[],p=0;p<h.length;p++){var m,b=h[p],y=b.name,v=b.semantic;if(v){var g=e.attributeSemantics[v];m=g&&g.symbol}else m=y;m&&n.attributes[m]&&(l.push(b),_.push(m))}f=new o(l,_,d),a&&(r.__vaoCache[s]=f)}var T=!0;t&&a&&(null==f.vao?f.vao=t.createVertexArrayOES():T=!1,t.bindVertexArrayOES(f.vao));var l=f.availableAttributes,d=f.indicesBuffer;if(T){for(var E=n.enableAttributes(this,f.availableAttributeSymbols,t&&a&&f),p=0;p<l.length;p++){var x=E[p];if(-1!==x){var b=l[p],R=b.buffer,M=b.size,O=A[b.type]||i.FLOAT;i.bindBuffer(i.ARRAY_BUFFER,R),i.vertexAttribPointer(x,M,O,!1,0,0)}}r.isUseIndices()&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,d.buffer)}return f},renderPreZ:function(t,e,r){var n=this.gl,a=this._prezMaterial||new h.a({shader:new p.a(p.a.source("clay.prez.vertex"),p.a.source("clay.prez.fragment"))});this._prezMaterial=a,n.colorMask(!1,!1,!1,!1),n.depthMask(!0),this.renderPass(t,r,{ifRender:function(t){return!t.ignorePreZ},isMaterialChanged:function(t,e){var r=t.material,n=e.material;return r.get("diffuseMap")!==n.get("diffuseMap")||(r.get("alphaCutoff")||0)!==(n.get("alphaCutoff")||0)},getUniform:function(t,e,r){if("alphaMap"===r)return t.material.get("diffuseMap");if("alphaCutoff"===r){if(t.material.isDefined("fragment","ALPHA_TEST")&&t.material.get("diffuseMap")){return t.material.get("alphaCutoff")||0}return 0}return e.get(r)},getMaterial:function(){return a},sort:this.opaqueSortCompare}),n.colorMask(!0,!0,!0,!0),n.depthMask(!0)},disposeScene:function(t){this.disposeNode(t,!0,!0),t.dispose()},disposeNode:function(t,e,r){t.getParent()&&t.getParent().remove(t);var n={};t.traverse(function(t){var a=t.material;if(t.geometry&&e&&t.geometry.dispose(this),r&&a&&!n[a.__uid__]){for(var i=a.getTextureUniforms(),s=0;s<i.length;s++){var o=i[s],f=a.uniforms[o].value,u=a.uniforms[o].type;if(f)if("t"===u)f.dispose&&f.dispose(this);else if("tv"===u)for(var c=0;c<f.length;c++)f[c]&&f[c].dispose&&f[c].dispose(this)}n[a.__uid__]=!0}t.dispose&&t.dispose(this)},this)},disposeGeometry:function(t){t.dispose(this)},disposeTexture:function(t){t.dispose(this)},disposeFrameBuffer:function(t){t.dispose(this)},dispose:function(){},screenToNDC:function(t,e,r){r||(r=new d.a),e=this._height-e;var n=this.viewport,a=r.array;return a[0]=(t-n.x)/n.width,a[0]=2*a[0]-1,a[1]=(e-n.y)/n.height,a[1]=2*a[1]-1,r}});R.opaqueSortCompare=R.prototype.opaqueSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.renderOrder-e.renderOrder},R.transparentSortCompare=R.prototype.transparentSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__depth===e.__depth?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.__depth-e.__depth:t.renderOrder-e.renderOrder};var M={IDENTITY:E(),WORLD:E(),VIEW:E(),PROJECTION:E(),WORLDVIEW:E(),VIEWPROJECTION:E(),WORLDVIEWPROJECTION:E(),WORLDINVERSE:E(),VIEWINVERSE:E(),PROJECTIONINVERSE:E(),WORLDVIEWINVERSE:E(),VIEWPROJECTIONINVERSE:E(),WORLDVIEWPROJECTIONINVERSE:E(),WORLDTRANSPOSE:E(),VIEWTRANSPOSE:E(),PROJECTIONTRANSPOSE:E(),WORLDVIEWTRANSPOSE:E(),VIEWPROJECTIONTRANSPOSE:E(),WORLDVIEWPROJECTIONTRANSPOSE:E(),WORLDINVERSETRANSPOSE:E(),VIEWINVERSETRANSPOSE:E(),PROJECTIONINVERSETRANSPOSE:E(),WORLDVIEWINVERSETRANSPOSE:E(),VIEWPROJECTIONINVERSETRANSPOSE:E(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:E()};R.COLOR_BUFFER_BIT=c.a.COLOR_BUFFER_BIT,R.DEPTH_BUFFER_BIT=c.a.DEPTH_BUFFER_BIT,R.STENCIL_BUFFER_BIT=c.a.STENCIL_BUFFER_BIT,e.a=R},function(t,e,r){"use strict";function n(t){function e(e){var n=t.getExtension(e);n||(n=t.getExtension("MOZ_"+e)),n||(n=t.getExtension("WEBKIT_"+e)),r[e]=n}for(var r={},n={},s=0;s<a.length;s++){e(a[s])}for(var s=0;s<i.length;s++){var o=i[s];n[o]=t.getParameter(t[o])}this.getExtension=function(t){return t in r||e(t),r[t]},this.getParameter=function(t){return n[t]}}var a=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB"],i=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];e.a=n},function(t,e,r){"use strict";var n=r(2),a=r.n(n),i=a.a.vec2,s=function(t,e){t=t||0,e=e||0,this.array=i.fromValues(t,e),this._dirty=!0};if(s.prototype={constructor:s,add:function(t){return i.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e){return this.array[0]=t,this.array[1]=e,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this._dirty=!0,this},clone:function(){return new s(this.x,this.y)},copy:function(t){return i.copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return i.cross(t.array,this.array,e.array),t._dirty=!0,this},dist:function(t){return i.dist(this.array,t.array)},distance:function(t){return i.distance(this.array,t.array)},div:function(t){return i.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return i.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return i.dot(this.array,t.array)},len:function(){return i.len(this.array)},length:function(){return i.length(this.array)},lerp:function(t,e,r){return i.lerp(this.array,t.array,e.array,r),this._dirty=!0,this},min:function(t){return i.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return i.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return i.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return i.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return i.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return i.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return i.random(this.array,t),this._dirty=!0,this},scale:function(t){return i.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return i.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return i.sqrDist(this.array,t.array)},squaredDistance:function(t){return i.squaredDistance(this.array,t.array)},sqrLen:function(){return i.sqrLen(this.array)},squaredLength:function(){return i.squaredLength(this.array)},sub:function(t){return i.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return i.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat2:function(t){return i.transformMat2(this.array,this.array,t.array),this._dirty=!0,this},transformMat2d:function(t){return i.transformMat2d(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return i.transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return i.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var o=s.prototype;Object.defineProperty(o,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),Object.defineProperty(o,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}})}s.add=function(t,e,r){return i.add(t.array,e.array,r.array),t._dirty=!0,t},s.set=function(t,e,r){return i.set(t.array,e,r),t._dirty=!0,t},s.copy=function(t,e){return i.copy(t.array,e.array),t._dirty=!0,t},s.cross=function(t,e,r){return i.cross(t.array,e.array,r.array),t._dirty=!0,t},s.dist=function(t,e){return i.distance(t.array,e.array)},s.distance=s.dist,s.div=function(t,e,r){return i.divide(t.array,e.array,r.array),t._dirty=!0,t},s.divide=s.div,s.dot=function(t,e){return i.dot(t.array,e.array)},s.len=function(t){return i.length(t.array)},s.lerp=function(t,e,r,n){return i.lerp(t.array,e.array,r.array,n),t._dirty=!0,t},s.min=function(t,e,r){return i.min(t.array,e.array,r.array),t._dirty=!0,t},s.max=function(t,e,r){return i.max(t.array,e.array,r.array),t._dirty=!0,t},s.mul=function(t,e,r){return i.multiply(t.array,e.array,r.array),t._dirty=!0,t},s.multiply=s.mul,s.negate=function(t,e){return i.negate(t.array,e.array),t._dirty=!0,t},s.normalize=function(t,e){return i.normalize(t.array,e.array),t._dirty=!0,t},s.random=function(t,e){return i.random(t.array,e),t._dirty=!0,t},s.scale=function(t,e,r){return i.scale(t.array,e.array,r),t._dirty=!0,t},s.scaleAndAdd=function(t,e,r,n){return i.scaleAndAdd(t.array,e.array,r.array,n),t._dirty=!0,t},s.sqrDist=function(t,e){return i.sqrDist(t.array,e.array)},s.squaredDistance=s.sqrDist,s.sqrLen=function(t){return i.sqrLen(t.array)},s.squaredLength=s.sqrLen,s.sub=function(t,e,r){return i.subtract(t.array,e.array,r.array),t._dirty=!0,t},s.subtract=s.sub,s.transformMat2=function(t,e,r){return i.transformMat2(t.array,e.array,r.array),t._dirty=!0,t},s.transformMat2d=function(t,e,r){return i.transformMat2d(t.array,e.array,r.array),t._dirty=!0,t},s.transformMat3=function(t,e,r){return i.transformMat3(t.array,e.array,r.array),t._dirty=!0,t},s.transformMat4=function(t,e,r){return i.transformMat4(t.array,e.array,r.array),t._dirty=!0,t},e.a=s},function(t,e,r){"use strict";function n(t,e,r){function n(t,r,n,i){var s="";isNaN(r)&&(r=r in e?e[r]:a[r]),isNaN(n)&&(n=n in e?e[n]:a[n]);for(var o=parseInt(r);o<parseInt(n);o++)s+="{"+i.replace(/float\s*\(\s*_idx_\s*\)/g,o.toFixed(1)).replace(/_idx_/g,o)+"}";return s}var a={};for(var i in r)a[i+"_COUNT"]=r[i];return t.replace(u,n)}function a(t,e,r){var n=[];if(e)for(var a in e){var i=e[a];i>0&&n.push("#define "+a.toUpperCase()+"_COUNT "+i)}if(r)for(var s=0;s<r.length;s++){var o=r[s];n.push("#define "+o.toUpperCase()+"_ENABLED")}for(var o in t){var f=t[o];null===f?n.push("#define "+o):n.push("#define "+o+" "+f.toString())}return n.join("\n")}function i(t){for(var e=[],r=0;r<t.length;r++)e.push("#extension GL_"+t[r]+" : enable");return e.join("\n")}function s(t){return["precision",t,"float"].join(" ")+";\n"+["precision",t,"int"].join(" ")+";\n"+["precision",t,"sampler2D"].join(" ")+";\n"}function o(t){this._renderer=t,this._cache={}}var f=r(67),u=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;o.prototype.getProgram=function(t,e,r){var o=this._cache,u="s"+e.shader.shaderID+"m"+e.getProgramKey();r&&(u+="se"+r.getProgramKey(t.lightGroup)),t.isSkinnedMesh()&&(u+=","+t.joints.length);var c=o[u];if(c)return c;var h=r?r.getLightsNumbers(t.lightGroup):{},d=this._renderer,l=d.gl,_=e.getEnabledTextures(),p="";t.isSkinnedMesh()&&(p="\n"+a({SKINNING:null,JOINT_COUNT:t.joints.length})+"\n");var m=p+a(e.vertexDefines,h,_),b=p+a(e.fragmentDefines,h,_),y=m+"\n"+e.shader.vertex,v=i(["OES_standard_derivatives","EXT_shader_texture_lod"])+"\n"+s(e.precision)+"\n"+b+"\n"+e.shader.fragment,g=n(y,e.vertexDefines,h),T=n(v,e.fragmentDefines,h),c=new f.a;c.uniformSemantics=e.shader.uniformSemantics,c.attributes=e.shader.attributes;var E=c.buildProgram(l,e.shader,g,T);return c.__error=E,o[u]=c,c},e.a=o},function(t,e,r){"use strict";function n(t){for(var e=t.split("\n"),r=0,n=e.length;r<n;r++)e[r]=r+1+": "+e[r];return e.join("\n")}function a(t,e,r){if(!t.getShaderParameter(e,t.COMPILE_STATUS))return[t.getShaderInfoLog(e),n(r)].join("\n")}var i=r(13),s=r(3),o={},f=new i.a.Float32Array(16),u=s.a.extend({uniformSemantics:{},attributes:{}},function(){this._locations={},this._textureSlot=0,this._program=null},{bind:function(t){this._textureSlot=0,t.gl.useProgram(this._program)},hasUniform:function(t){var e=this._locations[t];return null!==e&&void 0!==e},useTextureSlot:function(t,e,r){e&&(t.gl.activeTexture(t.gl.TEXTURE0+r),e.isRenderable()?e.bind(t):e.unbind(t))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(t){this._textureSlot=t||0},takeCurrentTextureSlot:function(t,e){var r=this._textureSlot;return this.useTextureSlot(t,e,r),this._textureSlot++,r},setUniform:function(t,e,r,n){var a=this._locations,s=a[r];if(null===s||void 0===s)return!1;switch(e){case"m4":if(!(n instanceof Float32Array)){for(var o=0;o<n.length;o++)f[o]=n[o];n=f}t.uniformMatrix4fv(s,!1,n);break;case"2i":t.uniform2i(s,n[0],n[1]);break;case"2f":t.uniform2f(s,n[0],n[1]);break;case"3i":t.uniform3i(s,n[0],n[1],n[2]);break;case"3f":t.uniform3f(s,n[0],n[1],n[2]);break;case"4i":t.uniform4i(s,n[0],n[1],n[2],n[3]);break;case"4f":t.uniform4f(s,n[0],n[1],n[2],n[3]);break;case"1i":t.uniform1i(s,n);break;case"1f":t.uniform1f(s,n);break;case"1fv":t.uniform1fv(s,n);break;case"1iv":t.uniform1iv(s,n);break;case"2iv":t.uniform2iv(s,n);break;case"2fv":t.uniform2fv(s,n);break;case"3iv":t.uniform3iv(s,n);break;case"3fv":t.uniform3fv(s,n);break;case"4iv":t.uniform4iv(s,n);break;case"4fv":t.uniform4fv(s,n);break;case"m2":case"m2v":t.uniformMatrix2fv(s,!1,n);break;case"m3":case"m3v":t.uniformMatrix3fv(s,!1,n);break;case"m4v":if(Array.isArray(n)&&Array.isArray(n[0])){for(var u=new i.a.Float32Array(16*n.length),c=0,o=0;o<n.length;o++)for(var h=n[o],d=0;d<16;d++)u[c++]=h[d];t.uniformMatrix4fv(s,!1,u)}else t.uniformMatrix4fv(s,!1,n)}return!0},setUniformOfSemantic:function(t,e,r){var n=this.uniformSemantics[e];return!!n&&this.setUniform(t,n.type,n.symbol,r)},enableAttributes:function(t,e,r){var n,a=t.gl,i=this._program,s=this._locations;(n=r?r.__enabledAttributeList:o[t.__uid__])||(n=r?r.__enabledAttributeList=[]:o[t.__uid__]=[]);for(var f=[],u=0;u<e.length;u++){var c=e[u];if(this.attributes[c]){var h=s[c];if(null==h){if(-1===(h=a.getAttribLocation(i,c))){f[u]=-1;continue}s[c]=h}f[u]=h,n[h]?n[h]=2:n[h]=1}else f[u]=-1}for(var u=0;u<n.length;u++)switch(n[u]){case 1:a.enableVertexAttribArray(u),n[u]=3;break;case 2:n[u]=3;break;case 3:a.disableVertexAttribArray(u),n[u]=0}return f},buildProgram:function(t,e,r,n){var i=t.createShader(t.VERTEX_SHADER),s=t.createProgram();t.shaderSource(i,r),t.compileShader(i);var o=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(o,n),t.compileShader(o);var f=a(t,i,r);if(f)return f;if(f=a(t,o,n))return f;if(t.attachShader(s,i),t.attachShader(s,o),e.attributeSemantics.POSITION)t.bindAttribLocation(s,0,e.attributeSemantics.POSITION.symbol);else{var u=Object.keys(this.attributes);t.bindAttribLocation(s,0,u[0])}if(t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS))return"Could not link program\nVALIDATE_STATUS: "+t.getProgramParameter(s,t.VALIDATE_STATUS)+", gl error ["+t.getError()+"]";for(var c=0;c<e.uniforms.length;c++){var h=e.uniforms[c];this._locations[h]=t.getUniformLocation(s,h)}t.deleteShader(i),t.deleteShader(o),this._program=s,this.vertexCode=r,this.fragmentCode=n}});e.a=u},function(t,e,r){"use strict";var n=r(69),a=":unconfigurable;";e.a=["@export clay.header.directional_light","uniform vec3 directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+a,"uniform vec3 directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+a,"@end","@export clay.header.ambient_light","uniform vec3 ambientLightColor[AMBIENT_LIGHT_COUNT]"+a,"@end","@export clay.header.ambient_sh_light","uniform vec3 ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+a,"uniform vec3 ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+a,n.a,"@end","@export clay.header.ambient_cubemap_light","uniform vec3 ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+a,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+a,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+a,"@end","@export clay.header.point_light","uniform vec3 pointLightPosition[POINT_LIGHT_COUNT]"+a,"uniform float pointLightRange[POINT_LIGHT_COUNT]"+a,"uniform vec3 pointLightColor[POINT_LIGHT_COUNT]"+a,"@end","@export clay.header.spot_light","uniform vec3 spotLightPosition[SPOT_LIGHT_COUNT]"+a,"uniform vec3 spotLightDirection[SPOT_LIGHT_COUNT]"+a,"uniform float spotLightRange[SPOT_LIGHT_COUNT]"+a,"uniform float spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+a,"uniform float spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+a,"uniform float spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+a,"uniform vec3 spotLightColor[SPOT_LIGHT_COUNT]"+a,"@end"].join("\n")},function(t,e,r){"use strict";e.a="vec3 calcAmbientSHLight(int idx, vec3 N) {\n int offset = 9 * idx;\n return ambientSHLightCoefficients[0]\n + ambientSHLightCoefficients[1] * N.x\n + ambientSHLightCoefficients[2] * N.y\n + ambientSHLightCoefficients[3] * N.z\n + ambientSHLightCoefficients[4] * N.x * N.z\n + ambientSHLightCoefficients[5] * N.z * N.y\n + ambientSHLightCoefficients[6] * N.y * N.x\n + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\n + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\n}"},function(t,e,r){"use strict";e.a="@export clay.prez.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n@import clay.chunk.skinning_header\nvarying vec2 v_Texcoord;\nvoid main()\n{\n vec3 skinnedPosition = position;\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n skinnedPosition = (skinMatrixWS * vec4(position, 1.0)).xyz;\n#endif\n gl_Position = worldViewProjection * vec4(skinnedPosition, 1.0);\n v_Texcoord = texcoord;\n}\n@end\n@export clay.prez.fragment\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n}\n@end"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(72);r.d(e,"schemeCategory10",function(){return n.a});var a=r(73);r.d(e,"schemeAccent",function(){return a.a});var i=r(74);r.d(e,"schemeDark2",function(){return i.a});var s=r(75);r.d(e,"schemePaired",function(){return s.a});var o=r(76);r.d(e,"schemePastel1",function(){return o.a});var f=r(77);r.d(e,"schemePastel2",function(){return f.a});var u=r(78);r.d(e,"schemeSet1",function(){return u.a});var c=r(79);r.d(e,"schemeSet2",function(){return c.a});var h=r(80);r.d(e,"schemeSet3",function(){return h.a});var d=r(81);r.d(e,"interpolateBrBG",function(){return d.a}),r.d(e,"schemeBrBG",function(){return d.b});var l=r(94);r.d(e,"interpolatePRGn",function(){return l.a}),r.d(e,"schemePRGn",function(){return l.b});var _=r(95);r.d(e,"interpolatePiYG",function(){return _.a}),r.d(e,"schemePiYG",function(){return _.b});var p=r(96);r.d(e,"interpolatePuOr",function(){return p.a}),r.d(e,"schemePuOr",function(){return p.b});var m=r(97);r.d(e,"interpolateRdBu",function(){return m.a}),r.d(e,"schemeRdBu",function(){return m.b});var b=r(98);r.d(e,"interpolateRdGy",function(){return b.a}),r.d(e,"schemeRdGy",function(){return b.b});var y=r(99);r.d(e,"interpolateRdYlBu",function(){return y.a}),r.d(e,"schemeRdYlBu",function(){return y.b});var v=r(100);r.d(e,"interpolateRdYlGn",function(){return v.a}),r.d(e,"schemeRdYlGn",function(){return v.b});var g=r(101);r.d(e,"interpolateSpectral",function(){return g.a}),r.d(e,"schemeSpectral",function(){return g.b});var T=r(102);r.d(e,"interpolateBuGn",function(){return T.a}),r.d(e,"schemeBuGn",function(){return T.b});var E=r(103);r.d(e,"interpolateBuPu",function(){return E.a}),r.d(e,"schemeBuPu",function(){return E.b});var x=r(104);r.d(e,"interpolateGnBu",function(){return x.a}),r.d(e,"schemeGnBu",function(){return x.b});var A=r(105);r.d(e,"interpolateOrRd",function(){return A.a}),r.d(e,"schemeOrRd",function(){return A.b});var R=r(106);r.d(e,"interpolatePuBuGn",function(){return R.a}),r.d(e,"schemePuBuGn",function(){return R.b});var M=r(107);r.d(e,"interpolatePuBu",function(){return M.a}),r.d(e,"schemePuBu",function(){return M.b});var O=r(108);r.d(e,"interpolatePuRd",function(){return O.a}),r.d(e,"schemePuRd",function(){return O.b});var w=r(109);r.d(e,"interpolateRdPu",function(){return w.a}),r.d(e,"schemeRdPu",function(){return w.b});var N=r(110);r.d(e,"interpolateYlGnBu",function(){return N.a}),r.d(e,"schemeYlGnBu",function(){return N.b});var S=r(111);r.d(e,"interpolateYlGn",function(){return S.a}),r.d(e,"schemeYlGn",function(){return S.b});var I=r(112);r.d(e,"interpolateYlOrBr",function(){return I.a}),r.d(e,"schemeYlOrBr",function(){return I.b});var P=r(113);r.d(e,"interpolateYlOrRd",function(){return P.a}),r.d(e,"schemeYlOrRd",function(){return P.b});var C=r(114);r.d(e,"interpolateBlues",function(){return C.a}),r.d(e,"schemeBlues",function(){return C.b});var L=r(115);r.d(e,"interpolateGreens",function(){return L.a}),r.d(e,"schemeGreens",function(){return L.b});var D=r(116);r.d(e,"interpolateGreys",function(){return D.a}),r.d(e,"schemeGreys",function(){return D.b});var U=r(117);r.d(e,"interpolatePurples",function(){return U.a}),r.d(e,"schemePurples",function(){return U.b});var F=r(118);r.d(e,"interpolateReds",function(){return F.a}),r.d(e,"schemeReds",function(){return F.b});var B=r(119);r.d(e,"interpolateOranges",function(){return B.a}),r.d(e,"schemeOranges",function(){return B.b});var k=r(120);r.d(e,"interpolateCubehelixDefault",function(){return k.a});var G=r(121);r.d(e,"interpolateRainbow",function(){return G.b}),r.d(e,"interpolateWarm",function(){return G.c}),r.d(e,"interpolateCool",function(){return G.a});var j=r(122);r.d(e,"interpolateViridis",function(){return j.a}),r.d(e,"interpolateMagma",function(){return j.c}),r.d(e,"interpolateInferno",function(){return j.b}),r.d(e,"interpolatePlasma",function(){return j.d})},function(t,e,r){"use strict";var n=r(0);e.a=Object(n.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(t,e,r){"use strict";var n=r(0);e.a=Object(n.a)("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")},function(t,e,r){"use strict";var n=r(0);e.a=Object(n.a)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")},function(t,e,r){"use strict";var n=r(0);e.a=Object(n.a)("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")},function(t,e,r){"use strict";var n=r(0);e.a=Object(n.a)("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")},function(t,e,r){"use strict";var n=r(0);e.a=Object(n.a)("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")},function(t,e,r){"use strict";var n=r(0);e.a=Object(n.a)("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")},function(t,e,r){"use strict";var n=r(0);e.a=Object(n.a)("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")},function(t,e,r){"use strict";var n=r(0);e.a=Object(n.a)("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";function n(t){if(t instanceof i)return new i(t.l,t.a,t.b,t.opacity);if(t instanceof d){var e=t.h*p.a;return new i(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof _.b||(t=Object(_.h)(t));var r=u(t.r),n=u(t.g),a=u(t.b),o=s((.4124564*r+.3575761*n+.1804375*a)/m),f=s((.2126729*r+.7151522*n+.072175*a)/b);return new i(116*f-16,500*(o-f),200*(f-s((.0193339*r+.119192*n+.9503041*a)/y)),t.opacity)}function a(t,e,r,a){return 1===arguments.length?n(t):new i(t,e,r,null==a?1:a)}function i(t,e,r,n){this.l=+t,this.a=+e,this.b=+r,this.opacity=+n}function s(t){return t>E?Math.pow(t,1/3):t/T+v}function o(t){return t>g?t*t*t:T*(t-v)}function f(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function u(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function c(t){if(t instanceof d)return new d(t.h,t.c,t.l,t.opacity);t instanceof i||(t=n(t));var e=Math.atan2(t.b,t.a)*p.b;return new d(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function h(t,e,r,n){return 1===arguments.length?c(t):new d(t,e,r,null==n?1:n)}function d(t,e,r,n){this.h=+t,this.c=+e,this.l=+r,this.opacity=+n}e.a=a,e.b=h;var l=r(26),_=r(25),p=r(33),m=.95047,b=1,y=1.08883,v=4/29,g=6/29,T=3*g*g,E=g*g*g;Object(l.a)(i,a,Object(l.b)(_.a,{brighter:function(t){return new i(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new i(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return t=b*o(t),e=m*o(e),r=y*o(r),new _.b(f(3.2404542*e-1.5371385*t-.4985314*r),f(-.969266*e+1.8760108*t+.041556*r),f(.0556434*e-.2040259*t+1.0572252*r),this.opacity)}})),Object(l.a)(d,h,Object(l.b)(_.a,{brighter:function(t){return new d(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new d(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return n(this).rgb()}}))},function(t,e,r){"use strict";function n(t){if(t instanceof i)return new i(t.h,t.s,t.l,t.opacity);t instanceof o.b||(t=Object(o.h)(t));var e=t.r/255,r=t.g/255,n=t.b/255,a=(m*n+_*e-p*r)/(m+_-p),s=n-a,u=(l*(r-a)-h*s)/d,c=Math.sqrt(u*u+s*s)/(l*a*(1-a)),b=c?Math.atan2(u,s)*f.b-120:NaN;return new i(b<0?b+360:b,c,a,t.opacity)}function a(t,e,r,a){return 1===arguments.length?n(t):new i(t,e,r,null==a?1:a)}function i(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}e.a=a;var s=r(26),o=r(25),f=r(33),u=-.14861,c=1.78277,h=-.29227,d=-.90649,l=1.97294,_=l*d,p=l*c,m=c*h-d*u;Object(s.a)(i,a,Object(s.b)(o.a,{brighter:function(t){return t=null==t?o.c:Math.pow(o.c,t),new i(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o.d:Math.pow(o.d,t),new i(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*f.a,e=+this.l,r=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),a=Math.sin(t);return new o.b(255*(e+r*(u*n+c*a)),255*(e+r*(h*n+d*a)),255*(e+r*(l*n)),this.opacity)}}))},function(t,e,r){"use strict"},function(t,e,r){"use strict";function n(t,e,r,n){function i(t){return t.length?t.pop()+" ":""}function s(t,n,i,s,o,f){if(t!==i||n!==s){var u=o.push("translate(",null,e,null,r);f.push({i:u-4,x:Object(a.a)(t,i)},{i:u-2,x:Object(a.a)(n,s)})}else(i||s)&&o.push("translate("+i+e+s+r)}function o(t,e,r,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:r.push(i(r)+"rotate(",null,n)-2,x:Object(a.a)(t,e)})):e&&r.push(i(r)+"rotate("+e+n)}function f(t,e,r,s){t!==e?s.push({i:r.push(i(r)+"skewX(",null,n)-2,x:Object(a.a)(t,e)}):e&&r.push(i(r)+"skewX("+e+n)}function u(t,e,r,n,s,o){if(t!==r||e!==n){var f=s.push(i(s)+"scale(",null,",",null,")");o.push({i:f-4,x:Object(a.a)(t,r)},{i:f-2,x:Object(a.a)(e,n)})}else 1===r&&1===n||s.push(i(s)+"scale("+r+","+n+")")}return function(e,r){var n=[],a=[];return e=t(e),r=t(r),s(e.translateX,e.translateY,r.translateX,r.translateY,n,a),o(e.rotate,r.rotate,n,a),f(e.skewX,r.skewX,n,a),u(e.scaleX,e.scaleY,r.scaleX,r.scaleY,n,a),e=r=null,function(t){for(var e,r=-1,i=a.length;++r<i;)n[(e=a[r]).i]=e.x(t);return n.join("")}}}var a=r(15),i=r(86);n(i.a,"px, ","px)","deg)"),n(i.b,", ",")",")")},function(t,e,r){"use strict";function n(t){return"none"===t?u.b:(i||(i=document.createElement("DIV"),s=document.documentElement,o=document.defaultView),i.style.transform=t,t=o.getComputedStyle(s.appendChild(i),null).getPropertyValue("transform"),s.removeChild(i),t=t.slice(7,-1).split(","),Object(u.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function a(t){return null==t?u.b:(f||(f=document.createElementNS("http://www.w3.org/2000/svg","g")),f.setAttribute("transform",t),(t=f.transform.baseVal.consolidate())?(t=t.matrix,Object(u.a)(t.a,t.b,t.c,t.d,t.e,t.f)):u.b)}e.a=n,e.b=a;var i,s,o,f,u=r(87)},function(t,e,r){"use strict";r.d(e,"b",function(){return a});var n=180/Math.PI,a={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(t,e,r,a,i,s){var o,f,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*r+e*a)&&(r-=t*u,a-=e*u),(f=Math.sqrt(r*r+a*a))&&(r/=f,a/=f,u/=f),t*a<e*r&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*n,skewX:Math.atan(u)*n,scaleX:o,scaleY:f}}},function(t,e,r){"use strict";Math.SQRT2},function(t,e,r){"use strict";function n(t){return function(e,r){var n=t((e=Object(a.d)(e)).h,(r=Object(a.d)(r)).h),s=Object(i.a)(e.s,r.s),o=Object(i.a)(e.l,r.l),f=Object(i.a)(e.opacity,r.opacity);return function(t){return e.h=n(t),e.s=s(t),e.l=o(t),e.opacity=f(t),e+""}}}var a=r(5),i=r(11);n(i.c),n(i.a)},function(t,e,r){"use strict";r(5),r(11)},function(t,e,r){"use strict";function n(t){return function(e,r){var n=t((e=Object(a.c)(e)).h,(r=Object(a.c)(r)).h),s=Object(i.a)(e.c,r.c),o=Object(i.a)(e.l,r.l),f=Object(i.a)(e.opacity,r.opacity);return function(t){return e.h=n(t),e.c=s(t),e.l=o(t),e.opacity=f(t),e+""}}}var a=r(5),i=r(11);n(i.c),n(i.a)},function(t,e,r){"use strict";function n(t){return function e(r){function n(e,n){var s=t((e=Object(a.b)(e)).h,(n=Object(a.b)(n)).h),o=Object(i.a)(e.s,n.s),f=Object(i.a)(e.l,n.l),u=Object(i.a)(e.opacity,n.opacity);return function(t){return e.h=s(t),e.s=o(t),e.l=f(Math.pow(t,r)),e.opacity=u(t),e+""}}return r=+r,n.gamma=e,n}(1)}r.d(e,"a",function(){return s});var a=r(5),i=r(11),s=(n(i.c),n(i.a))},function(t,e,r){"use strict"},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";r.d(e,"b",function(){return i});var n=r(0),a=r(1),i=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(n.a);e.a=Object(a.a)(i)},function(t,e,r){"use strict";var n=r(5),a=r(23);e.a=Object(a.a)(Object(n.b)(300,.5,0),Object(n.b)(-240,.5,1))},function(t,e,r){"use strict";r.d(e,"c",function(){return i}),r.d(e,"a",function(){return s});var n=r(5),a=r(23),i=Object(a.a)(Object(n.b)(-100,.75,.35),Object(n.b)(80,1.5,.8)),s=Object(a.a)(Object(n.b)(260,.75,.35),Object(n.b)(80,1.5,.8)),o=Object(n.b)();e.b=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return o.h=360*t-100,o.s=1.5-1.5*e,o.l=.8-.9*e,o+""}},function(t,e,r){"use strict";function n(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}r.d(e,"c",function(){return i}),r.d(e,"b",function(){return s}),r.d(e,"d",function(){return o});var a=r(0);e.a=n(Object(a.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var i=n(Object(a.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),s=n(Object(a.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),o=n(Object(a.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))}]);